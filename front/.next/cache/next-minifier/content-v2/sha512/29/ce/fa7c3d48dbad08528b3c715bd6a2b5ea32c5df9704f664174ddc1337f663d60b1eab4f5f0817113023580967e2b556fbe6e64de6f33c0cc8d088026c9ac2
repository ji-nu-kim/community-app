{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{gwkI:function(e,t,n){\"use strict\";n.r(t);var r=n(\"nKUr\"),c=n(\"ODXe\"),o=n(\"Vl3Y\"),a=n(\"5rEg\"),i=n(\"2/Rp\"),s=n(\"q1tI\"),b=n(\"7pp9\"),u=n(\"Avh3\"),j=n(\"/MKj\");function p(e){var t=e.postId,n=Object(j.b)(),p=Object(j.c)((function(e){return e.user})).me,l=Object(j.c)((function(e){return e.post})).addCommentDone,m=Object(u.a)(\"\"),d=Object(c.a)(m,3),O=d[0],f=d[1],h=d[2];Object(s.useEffect)((function(){l&&h(\"\")}),[l]);var g=Object(s.useCallback)((function(){if(O.trim()&&O)return p?n(Object(b.a)({comment:O,postId:t})):void 0;alert(\"\\ub313\\uae00\\uc744 \\uc785\\ub825\\ud558\\uc138\\uc694\")}),[O,t,p]);return Object(r.jsx)(o.a,{onFinish:g,children:Object(r.jsxs)(o.a.Item,{style:{marginTop:\"0.5rem\"},children:[Object(r.jsx)(a.a.TextArea,{value:O,onChange:f,rows:4,placeholder:\"\\ub313\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694\",style:{background:\"rgba(0, 0, 0, .4)\",border:\"none\",color:\"#fff\",resize:\"none\",height:\"70px\"}}),Object(r.jsx)(i.a,{type:\"primary\",htmlType:\"submit\",style:{marginTop:\".5rem\"},children:\"\\ub4f1\\ub85d\"})]})})}t.default=Object(s.memo)(p)}}]);","map":{"version":3,"sources":["static/chunks/42.57fa2b299da0b820fd1a.js"],"names":["window","push","gwkI","module","__webpack_exports__","__webpack_require__","r","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","C_Users_wlsdn_Desktop_frontend_react_next_community_front_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","antd__WEBPACK_IMPORTED_MODULE_2__","antd__WEBPACK_IMPORTED_MODULE_3__","antd__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_5__","_actions_actionPost__WEBPACK_IMPORTED_MODULE_6__","_hooks_useInput__WEBPACK_IMPORTED_MODULE_7__","react_redux__WEBPACK_IMPORTED_MODULE_8__","CommentForm","_ref","postId","dispatch","Object","me","state","user","addCommentDone","post","_useInput","_useInput2","comment","onChangeComment","setComment","onSubmitComment","trim","alert","onFinish","children","Item","style","marginTop","TextArea","value","onChange","rows","placeholder","background","border","color","resize","height","type","htmlType"],"mappings":"CAACA,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACD,IAAIG,EAAiDF,EAAoB,QAErEG,EAA8IH,EAAoB,QAClKI,EAAoCJ,EAAoB,QACxDK,EAAoCL,EAAoB,QACxDM,EAAoCN,EAAoB,QACxDO,EAAqCP,EAAoB,QAEzDQ,EAAmDR,EAAoB,QACvES,EAA+CT,EAAoB,QACnEU,EAA2CV,EAAoB,QAUxF,SAASW,EAAYC,GACnB,IAAIC,EAASD,EAAKC,OACdC,EAAWC,OAAOL,EAA8D,EAArEK,GAKXC,EAHeD,OAAOL,EAA8D,EAArEK,EAAwE,SAAUE,GACnG,OAAOA,EAAMC,QAEOF,GAKlBG,EAHgBJ,OAAOL,EAA8D,EAArEK,EAAwE,SAAUE,GACpG,OAAOA,EAAMG,QAEoBD,eAE/BE,EAAYN,OAAON,EAA8D,EAArEM,CAAwE,IACpFO,EAAaP,OAAOZ,EAA6J,EAApKY,CAAuKM,EAAW,GAC/LE,EAAUD,EAAW,GACrBE,EAAkBF,EAAW,GAC7BG,EAAaH,EAAW,GAE5BP,OAAOR,EAA8C,UAArDQ,EAAwD,WAClDI,GACFM,EAAW,MAEZ,CAACN,IACJ,IAAIO,EAAkBX,OAAOR,EAAgD,YAAvDQ,EAA0D,WAC9E,GAAKQ,EAAQI,QAAWJ,EAKxB,OAAIP,EACKF,EAASC,OAAOP,EAAkF,EAAzFO,CAA4F,CAC1GQ,QAASA,EACTV,OAAQA,UAHZ,EAJEe,MAAM,uDAUP,CAACL,EAASV,EAAQG,IACrB,OAAoBD,OAAOb,EAAoD,IAA3Da,CAA8DX,EAAmD,EAAG,CACtIyB,SAAUH,EACVI,SAAuBf,OAAOb,EAAqD,KAA5Da,CAA+DX,EAAmD,EAAE2B,KAAM,CAC/IC,MAAO,CACLC,UAAW,UAEbH,SAAU,CAAcf,OAAOb,EAAoD,IAA3Da,CAA8DV,EAAmD,EAAE6B,SAAU,CACnJC,MAAOZ,EACPa,SAAUZ,EACVa,KAAM,EACNC,YAAa,oDACbN,MAAO,CACLO,WAAY,oBACZC,OAAQ,OACRC,MAAO,OACPC,OAAQ,OACRC,OAAQ,UAEK5B,OAAOb,EAAoD,IAA3Da,CAA8DT,EAAmD,EAAG,CACnIsC,KAAM,UACNC,SAAU,SACVb,MAAO,CACLC,UAAW,SAEbH,SAAU,sBAMW/B,EAA6B,QAAkBgB,OAAOR,EAAyC,KAA9D,CAAiEI"},"name":"static/chunks/42.57fa2b299da0b820fd1a.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[42],{\n\n/***/ \"gwkI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var C_Users_wlsdn_Desktop_frontend_react_next_community_front_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"ODXe\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"Vl3Y\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"5rEg\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"2/Rp\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _actions_actionPost__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"7pp9\");\n/* harmony import */ var _hooks_useInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"Avh3\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"/MKj\");\n\n\n\n\n\n\n\n\n\nfunction CommentForm(_ref) {\n  var postId = _ref.postId;\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[/* useDispatch */ \"b\"])();\n\n  var _useSelector = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[/* useSelector */ \"c\"])(function (state) {\n    return state.user;\n  }),\n      me = _useSelector.me;\n\n  var _useSelector2 = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[/* useSelector */ \"c\"])(function (state) {\n    return state.post;\n  }),\n      addCommentDone = _useSelector2.addCommentDone;\n\n  var _useInput = Object(_hooks_useInput__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(''),\n      _useInput2 = Object(C_Users_wlsdn_Desktop_frontend_react_next_community_front_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useInput, 3),\n      comment = _useInput2[0],\n      onChangeComment = _useInput2[1],\n      setComment = _useInput2[2];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    if (addCommentDone) {\n      setComment('');\n    }\n  }, [addCommentDone]);\n  var onSubmitComment = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useCallback\"])(function () {\n    if (!comment.trim() || !comment) {\n      alert('댓글을 입력하세요');\n      return;\n    }\n\n    if (me) {\n      return dispatch(Object(_actions_actionPost__WEBPACK_IMPORTED_MODULE_6__[/* addCommentRequestAction */ \"a\"])({\n        comment: comment,\n        postId: postId\n      }));\n    }\n  }, [comment, postId, me]);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n    onFinish: onSubmitComment,\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(antd__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].Item, {\n      style: {\n        marginTop: '0.5rem'\n      },\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].TextArea, {\n        value: comment,\n        onChange: onChangeComment,\n        rows: 4,\n        placeholder: \"\\uB313\\uAE00\\uC744 \\uC791\\uC131\\uD558\\uC138\\uC694\",\n        style: {\n          background: 'rgba(0, 0, 0, .4)',\n          border: 'none',\n          color: '#fff',\n          resize: 'none',\n          height: '70px'\n        }\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n        type: \"primary\",\n        htmlType: \"submit\",\n        style: {\n          marginTop: '.5rem'\n        },\n        children: \"\\uB4F1\\uB85D\"\n      })]\n    })\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_5__[\"memo\"])(CommentForm));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/Users/wlsdn/Desktop/frontend/react/next/community/front/components/CommentForm.tsx"],"names":["CommentForm","postId","dispatch","useDispatch","useSelector","state","user","me","post","addCommentDone","useInput","comment","onChangeComment","setComment","useEffect","onSubmitComment","useCallback","trim","alert","addCommentRequestAction","marginTop","background","border","color","resize","height","memo"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;AAMA,SAASA,WAAT,OAAmD;AAAA,MAA5BC,MAA4B,QAA5BA,MAA4B;AACjD,MAAMC,QAAQ,GAAGC,uEAAW,EAA5B;;AADiD,qBAElCC,uEAAW,CAAC,UAACC,KAAD;AAAA,WAA+BA,KAAK,CAACC,IAArC;AAAA,GAAD,CAFuB;AAAA,MAEzCC,EAFyC,gBAEzCA,EAFyC;;AAAA,sBAGtBH,uEAAW,CAAC,UAACC,KAAD;AAAA,WAA+BA,KAAK,CAACG,IAArC;AAAA,GAAD,CAHW;AAAA,MAGzCC,cAHyC,iBAGzCA,cAHyC;;AAAA,kBAIFC,uEAAQ,CAAS,EAAT,CAJN;AAAA;AAAA,MAI1CC,OAJ0C;AAAA,MAIjCC,eAJiC;AAAA,MAIhBC,UAJgB;;AAMjDC,yDAAS,CAAC,YAAM;AACd,QAAIL,cAAJ,EAAoB;AAClBI,gBAAU,CAAC,EAAD,CAAV;AACD;AACF,GAJQ,EAIN,CAACJ,cAAD,CAJM,CAAT;AAMA,MAAMM,eAAe,GAAGC,yDAAW,CAAC,YAAM;AACxC,QAAI,CAACL,OAAO,CAACM,IAAR,EAAD,IAAmB,CAACN,OAAxB,EAAiC;AAC/BO,WAAK,CAAC,WAAD,CAAL;AACA;AACD;;AAED,QAAIX,EAAJ,EAAQ;AACN,aAAOL,QAAQ,CACbiB,2FAAuB,CAAC;AACtBR,eAAO,EAAPA,OADsB;AAEtBV,cAAM,EAANA;AAFsB,OAAD,CADV,CAAf;AAMD;AACF,GAdkC,EAchC,CAACU,OAAD,EAAUV,MAAV,EAAkBM,EAAlB,CAdgC,CAAnC;AAgBA,sBACE,8DAAC,oDAAD;AAAM,YAAQ,EAAEQ,eAAhB;AAAA,2BACE,+DAAC,oDAAD,CAAM,IAAN;AACE,WAAK,EAAE;AACLK,iBAAS,EAAE;AADN,OADT;AAAA,8BAKE,8DAAC,oDAAD,CAAO,QAAP;AACE,aAAK,EAAET,OADT;AAEE,gBAAQ,EAAEC,eAFZ;AAGE,YAAI,EAAE,CAHR;AAIE,mBAAW,EAAC,mDAJd;AAKE,aAAK,EAAE;AACLS,oBAAU,EAAE,mBADP;AAELC,gBAAM,EAAE,MAFH;AAGLC,eAAK,EAAE,MAHF;AAILC,gBAAM,EAAE,MAJH;AAKLC,gBAAM,EAAE;AALH;AALT,QALF,eAkBE,8DAAC,oDAAD;AAAQ,YAAI,EAAC,SAAb;AAAuB,gBAAQ,EAAC,QAAhC;AAAyC,aAAK,EAAE;AAAEL,mBAAS,EAAE;AAAb,SAAhD;AAAA;AAAA,QAlBF;AAAA;AADF,IADF;AA0BD;;AAEcM,8HAAI,CAAC1B,WAAD,CAAnB,E","file":"x","sourcesContent":["import { Form, Input, Button } from 'antd';\nimport React, { memo, useCallback, useEffect } from 'react';\nimport { addCommentRequestAction } from '../actions/actionPost';\nimport useInput from '../hooks/useInput';\nimport { RootStateInterface } from '../interfaces/RootState';\nimport { useDispatch, useSelector } from 'react-redux';\n\ninterface CommentFormProps {\n  postId: number;\n}\n\nfunction CommentForm({ postId }: CommentFormProps) {\n  const dispatch = useDispatch();\n  const { me } = useSelector((state: RootStateInterface) => state.user);\n  const { addCommentDone } = useSelector((state: RootStateInterface) => state.post);\n  const [comment, onChangeComment, setComment] = useInput<string>('');\n\n  useEffect(() => {\n    if (addCommentDone) {\n      setComment('');\n    }\n  }, [addCommentDone]);\n\n  const onSubmitComment = useCallback(() => {\n    if (!comment.trim() || !comment) {\n      alert('댓글을 입력하세요');\n      return;\n    }\n\n    if (me) {\n      return dispatch(\n        addCommentRequestAction({\n          comment,\n          postId,\n        })\n      );\n    }\n  }, [comment, postId, me]);\n\n  return (\n    <Form onFinish={onSubmitComment}>\n      <Form.Item\n        style={{\n          marginTop: '0.5rem',\n        }}\n      >\n        <Input.TextArea\n          value={comment}\n          onChange={onChangeComment}\n          rows={4}\n          placeholder=\"댓글을 작성하세요\"\n          style={{\n            background: 'rgba(0, 0, 0, .4)',\n            border: 'none',\n            color: '#fff',\n            resize: 'none',\n            height: '70px',\n          }}\n        />\n        <Button type=\"primary\" htmlType=\"submit\" style={{ marginTop: '.5rem' }}>\n          등록\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default memo(CommentForm);\n"]}}