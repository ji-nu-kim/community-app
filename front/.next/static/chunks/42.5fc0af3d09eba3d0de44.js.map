{"version":3,"sources":["webpack://_N_E/./components/CommentForm.tsx"],"names":["CommentForm","postId","dispatch","useDispatch","me","useSelector","state","user","addCommentDone","post","useInput","comment","onChangeComment","setComment","useEffect","onSubmitComment","useCallback","trim","addCommentRequestAction","alert","onFinish","Item","style","marginTop","TextArea","value","onChange","rows","placeholder","background","border","color","resize","height","type","htmlType","memo"],"mappings":"2NAWA,SAASA,EAAT,GAAmD,IAA5BC,EAA4B,EAA5BA,OACfC,EAAWC,cACTC,EAAOC,aAAY,SAACC,GAAD,OAA+BA,EAAMC,QAAxDH,GACAI,EAAmBH,aAAY,SAACC,GAAD,OAA+BA,EAAMG,QAApED,eAHyC,EAIFE,YAAiB,IAJf,mBAI1CC,EAJ0C,KAIjCC,EAJiC,KAIhBC,EAJgB,KAMjDC,qBAAU,WACJN,GACFK,EAAW,MAEZ,CAACL,IAEJ,IAAMO,EAAkBC,uBAAY,WAClC,GAAKL,EAAQM,QAAWN,EAKxB,OAAIP,EACKF,EACLgB,YAAwB,CACtBP,UACAV,iBAJN,EAJEkB,MAAM,uDAYP,CAACR,EAASV,EAAQG,IAErB,OACE,cAAC,IAAD,CAAMgB,SAAUL,EAAhB,SACE,eAAC,IAAKM,KAAN,CACEC,MAAO,CACLC,UAAW,UAFf,UAKE,cAAC,IAAMC,SAAP,CACEC,MAAOd,EACPe,SAAUd,EACVe,KAAM,EACNC,YAAY,oDACZN,MAAO,CACLO,WAAY,oBACZC,OAAQ,OACRC,MAAO,OACPC,OAAQ,OACRC,OAAQ,UAGZ,cAAC,IAAD,CAAQC,KAAK,UAAUC,SAAS,SAASb,MAAO,CAAEC,UAAW,SAA7D,+BAQOa,yBAAKpC","file":"static/chunks/42.5fc0af3d09eba3d0de44.js","sourcesContent":["import { Form, Input, Button } from 'antd';\nimport React, { memo, useCallback, useEffect } from 'react';\nimport { addCommentRequestAction } from '../actions/actionPost';\nimport useInput from '../hooks/useInput';\nimport { RootStateInterface } from '../interfaces/RootState';\nimport { useDispatch, useSelector } from 'react-redux';\n\ninterface CommentFormProps {\n  postId: number;\n}\n\nfunction CommentForm({ postId }: CommentFormProps) {\n  const dispatch = useDispatch();\n  const { me } = useSelector((state: RootStateInterface) => state.user);\n  const { addCommentDone } = useSelector((state: RootStateInterface) => state.post);\n  const [comment, onChangeComment, setComment] = useInput<string>('');\n\n  useEffect(() => {\n    if (addCommentDone) {\n      setComment('');\n    }\n  }, [addCommentDone]);\n\n  const onSubmitComment = useCallback(() => {\n    if (!comment.trim() || !comment) {\n      alert('댓글을 입력하세요');\n      return;\n    }\n\n    if (me) {\n      return dispatch(\n        addCommentRequestAction({\n          comment,\n          postId,\n        })\n      );\n    }\n  }, [comment, postId, me]);\n\n  return (\n    <Form onFinish={onSubmitComment}>\n      <Form.Item\n        style={{\n          marginTop: '0.5rem',\n        }}\n      >\n        <Input.TextArea\n          value={comment}\n          onChange={onChangeComment}\n          rows={4}\n          placeholder=\"댓글을 작성하세요\"\n          style={{\n            background: 'rgba(0, 0, 0, .4)',\n            border: 'none',\n            color: '#fff',\n            resize: 'none',\n            height: '70px',\n          }}\n        />\n        <Button type=\"primary\" htmlType=\"submit\" style={{ marginTop: '.5rem' }}>\n          등록\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default memo(CommentForm);\n"],"sourceRoot":""}