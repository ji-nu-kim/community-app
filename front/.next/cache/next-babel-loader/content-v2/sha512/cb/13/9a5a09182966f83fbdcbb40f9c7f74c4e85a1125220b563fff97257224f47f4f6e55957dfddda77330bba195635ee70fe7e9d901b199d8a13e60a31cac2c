{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/wlsdn/Desktop/next/community/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/wlsdn/Desktop/next/community/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CloseCircleOutlined } from '@ant-design/icons';\nimport { acceptCommunityRequestAction, refuseCommunityRequestAction } from 'actions/actionCommunity';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ModalExternal, ModalContainer, ModalBody, ModalHeader } from './styles';\n\nfunction JoinUserModal(_ref) {\n  var setJoinUserModal = _ref.setJoinUserModal,\n      singleCommunity = _ref.singleCommunity;\n  var dispatch = useDispatch();\n  var JoinUsers = singleCommunity.JoinUsers;\n  var closeJoinUserModal = useCallback(function () {\n    setJoinUserModal(false);\n  }, [setJoinUserModal]);\n  var onClickAccept = useCallback(function (userId) {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", dispatch(acceptCommunityRequestAction({\n                communityId: singleCommunity.id,\n                userId: userId,\n                title: \"\".concat(singleCommunity.communityName, \" \\uCEE4\\uBBA4\\uB2C8\\uD2F0 \\uAC00\\uC785\\uC2E0\\uCCAD\\uC774 \\uC2B9\\uC778\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\")\n              })));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  }, [singleCommunity]);\n  var onClickRefuse = useCallback(function (userId) {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", dispatch(refuseCommunityRequestAction({\n                communityId: singleCommunity.id,\n                userId: userId\n              })));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n  }, [singleCommunity]);\n  return /*#__PURE__*/_jsx(ModalExternal, {\n    onClick: closeJoinUserModal,\n    children: /*#__PURE__*/_jsxs(ModalContainer, {\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      },\n      children: [/*#__PURE__*/_jsxs(ModalHeader, {\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"modal-title\",\n          children: \"\\uAC00\\uC785\\uC2E0\\uCCAD\\uD55C \\uC720\\uC800\\uBAA9\\uB85D\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"close-btn\",\n          onClick: closeJoinUserModal,\n          children: /*#__PURE__*/_jsx(CloseCircleOutlined, {})\n        })]\n      }), /*#__PURE__*/_jsx(ModalBody, {\n        children: JoinUsers.map(function (user) {\n          return /*#__PURE__*/_jsxs(\"div\", {\n            className: \"card-container\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"card-image\",\n              children: user.profilePhoto ? /*#__PURE__*/_jsx(\"img\", {\n                src: \"\".concat(process.env.NEXT_PUBLIC_BACK_URL_KEY, \"/\").concat(user.profilePhoto),\n                alt: \"profile-photo\"\n              }) : '이미지'\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"card-info\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                children: [\"\\uB2C9\\uB124\\uC784: \", user.nickname]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                children: [\"\\uC9C0\\uC5ED: \", user.country]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"card-button\",\n              children: [/*#__PURE__*/_jsx(\"button\", {\n                onClick: onClickAccept(user.id),\n                children: \"\\uC2B9\\uC778\"\n              }), /*#__PURE__*/_jsx(\"button\", {\n                onClick: onClickRefuse(user.id),\n                children: \"\\uAC70\\uC808\"\n              })]\n            })]\n          }, user.id);\n        })\n      })]\n    })\n  });\n}\n\nexport default JoinUserModal;","map":{"version":3,"sources":["C:/Users/wlsdn/Desktop/next/community/front/components/Modals/JoinUserModal/index.tsx"],"names":["CloseCircleOutlined","acceptCommunityRequestAction","refuseCommunityRequestAction","React","useCallback","useDispatch","ModalExternal","ModalContainer","ModalBody","ModalHeader","JoinUserModal","setJoinUserModal","singleCommunity","dispatch","JoinUsers","closeJoinUserModal","onClickAccept","userId","communityId","id","title","communityName","onClickRefuse","e","stopPropagation","map","user","profilePhoto","process","env","NEXT_PUBLIC_BACK_URL_KEY","nickname","country"],"mappings":"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","sourcesContent":["import { CloseCircleOutlined } from '@ant-design/icons';\r\nimport {\r\n  acceptCommunityRequestAction,\r\n  refuseCommunityRequestAction,\r\n} from 'actions/actionCommunity';\r\nimport { ICommunity } from 'interfaces/db';\r\nimport React, { Dispatch, SetStateAction, useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { ModalExternal, ModalContainer, ModalBody, ModalHeader } from './styles';\r\n\r\ninterface JoinUserModalProps {\r\n  setJoinUserModal: Dispatch<SetStateAction<boolean>>;\r\n  singleCommunity: ICommunity;\r\n}\r\n\r\nfunction JoinUserModal({ setJoinUserModal, singleCommunity }: JoinUserModalProps) {\r\n  const dispatch = useDispatch();\r\n  const { JoinUsers } = singleCommunity;\r\n\r\n  const closeJoinUserModal = useCallback(() => {\r\n    setJoinUserModal(false);\r\n  }, [setJoinUserModal]);\r\n\r\n  const onClickAccept = useCallback(\r\n    (userId: number) => async () => {\r\n      return dispatch(\r\n        acceptCommunityRequestAction({\r\n          communityId: singleCommunity.id,\r\n          userId,\r\n          title: `${singleCommunity.communityName} 커뮤니티 가입신청이 승인되었습니다`,\r\n        })\r\n      );\r\n    },\r\n    [singleCommunity]\r\n  );\r\n\r\n  const onClickRefuse = useCallback(\r\n    (userId: number) => async () => {\r\n      return dispatch(\r\n        refuseCommunityRequestAction({\r\n          communityId: singleCommunity.id,\r\n          userId,\r\n        })\r\n      );\r\n    },\r\n    [singleCommunity]\r\n  );\r\n\r\n  return (\r\n    <ModalExternal onClick={closeJoinUserModal}>\r\n      <ModalContainer onClick={e => e.stopPropagation()}>\r\n        <ModalHeader>\r\n          <div className=\"modal-title\">가입신청한 유저목록</div>\r\n          <div className=\"close-btn\" onClick={closeJoinUserModal}>\r\n            <CloseCircleOutlined />\r\n          </div>\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          {JoinUsers.map(user => (\r\n            <div key={user.id} className=\"card-container\">\r\n              <div className=\"card-image\">\r\n                {user.profilePhoto ? (\r\n                  <img\r\n                    src={`${process.env.NEXT_PUBLIC_BACK_URL_KEY}/${user.profilePhoto}`}\r\n                    alt=\"profile-photo\"\r\n                  />\r\n                ) : (\r\n                  '이미지'\r\n                )}\r\n              </div>\r\n              <div className=\"card-info\">\r\n                <div>닉네임: {user.nickname}</div>\r\n                <div>지역: {user.country}</div>\r\n              </div>\r\n              <div className=\"card-button\">\r\n                <button onClick={onClickAccept(user.id)}>승인</button>\r\n                <button onClick={onClickRefuse(user.id)}>거절</button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </ModalBody>\r\n      </ModalContainer>\r\n    </ModalExternal>\r\n  );\r\n}\r\n\r\nexport default JoinUserModal;\r\n"]},"metadata":{},"sourceType":"module"}