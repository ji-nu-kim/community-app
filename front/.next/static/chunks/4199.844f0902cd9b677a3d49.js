(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4199],{1627:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(7294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},i=t(9408),l=function(e,n){return r.createElement(i.Z,Object.assign({},e,{ref:n,icon:a}))};l.displayName="CloseCircleOutlined";var c=r.forwardRef(l)},4199:function(e,n,t){"use strict";t.r(n);var r=t(5893),a=t(8481),i=t(8188),l=t(8427),c=t(8222),o=t(5664),s=t(1639),u=t(7294),f=t(4751),d=t(1627),m=t(9163),p=t(1163),g=(0,m.ZP)(c.Z).withConfig({displayName:"PostForm__StyleButton",componentId:"sc-458sc1-0"})(["background:none;border:none;position:absolute;margin-left:-35px;color:#fff;margin-top:-5px;:hover{background:none;color:#039be5;}"]);function h(){var e=(0,p.useRouter)(),n=(0,f.v9)((function(e){return e.post})),t=n.imagePaths,m=n.addPostDone,h=(0,f.I0)(),x=(0,l.Z)(""),b=(0,a.Z)(x,3),v=b[0],y=b[1],C=b[2];(0,u.useEffect)((function(){m&&C("")}),[m]);var k=(0,u.useCallback)((function(){if(!v||!v.trim())return alert("\uac8c\uc2dc\uae00\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694");var n=new FormData;return t.forEach((function(e){return n.append("image",e)})),n.append("content",v),h((0,i.LR)({formData:n,communityId:Number(e.query.id)}))}),[v,t]),j=(0,u.useRef)(null),Z=(0,u.useCallback)((function(){var e;null===(e=j.current)||void 0===e||e.click()}),[j.current]),w=(0,u.useCallback)((function(e){var n=new FormData;return[].forEach.call(e.target.files,(function(e){n.append("image",e)})),h((0,i.HY)(n))}),[]),L=(0,u.useCallback)((function(e){return function(){return h((0,i.CM)(e))}}),[]);return(0,r.jsxs)(o.Z,{style:{height:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},encType:"multipart/form-data",onFinish:k,children:[t&&(0,r.jsx)("div",{style:{display:"flex",marginBottom:"1rem"},children:t.map((function(e,n){return(0,r.jsxs)("div",{style:{marginRight:"1rem",background:"rgba(0,0,0,.7)"},children:[(0,r.jsx)("img",{src:e.replace(/\/resize\//,"/original/"),style:{width:"100px"},alt:e}),(0,r.jsx)(g,{onClick:L(n),children:(0,r.jsx)(d.Z,{})})]},e)}))}),(0,r.jsx)(s.Z.TextArea,{value:v,onChange:y,maxLength:140,placeholder:"\uae00\uc744 \uc791\uc131\ud558\uc138\uc694",style:{color:"#fff",background:"rgba(0, 0, 0, 0.4)",border:"none",resize:"none",height:"70px"}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:j,onChange:w}),(0,r.jsxs)("div",{style:{textAlign:"end",marginTop:"0.5rem"},children:[(0,r.jsx)(c.Z,{onClick:Z,children:"\uc5c5\ub85c\ub4dc"}),(0,r.jsx)(c.Z,{style:{marginLeft:"0.5rem"},type:"primary",htmlType:"submit",children:"\uc62c\ub9ac\uae30"})]})]})]})}n.default=(0,u.memo)(h)},8427:function(e,n,t){"use strict";var r=t(7294);n.Z=function(e){var n=(0,r.useState)(e),t=n[0],a=n[1];return[t,(0,r.useCallback)((function(e){a(e.target.value)}),[]),a]}}}]);