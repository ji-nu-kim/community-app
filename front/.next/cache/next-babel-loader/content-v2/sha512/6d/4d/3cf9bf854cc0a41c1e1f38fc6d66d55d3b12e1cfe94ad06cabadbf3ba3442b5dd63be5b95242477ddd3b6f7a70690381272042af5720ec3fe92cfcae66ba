{"ast":null,"code":"import { all, call, fork, put, takeLatest } from 'redux-saga/effects';\nimport { actionTypesCommunity } from '../interfaces/community/communityAction.interfaces';\nimport axios from 'axios';\nimport { actionTypesUser } from 'interfaces';\n\nfunction uploadCommunityImageAPI(data) {\n  return axios.post('/community/image', data);\n}\n\nfunction* uploadCommunityImage(action) {\n  try {\n    const result = yield call(uploadCommunityImageAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.UPLOAD_COMMUNITY_IMAGE_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.UPLOAD_COMMUNITY_IMAGE_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction changeCommunityInfoAPI(data) {\n  return axios.post(`/community/${data.communityId}/info`, data);\n}\n\nfunction* changeCommunityInfo(action) {\n  try {\n    const result = yield call(changeCommunityInfoAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.CHANGE_COMMUNITY_INFO_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.CHANGE_COMMUNITY_INFO_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction removeCommunityAPI(data) {\n  return axios.delete(`/community/${data.communityId}`);\n}\n\nfunction* removeCommunity(action) {\n  try {\n    yield call(removeCommunityAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.REMOVE_COMMUNITY_SUCCESS\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.REMOVE_COMMUNITY_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction addCommunityAPI(data) {\n  return axios.post('/community', data);\n}\n\nfunction* addCommunity(action) {\n  try {\n    yield call(addCommunityAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.ADD_COMMUNITY_SUCCESS\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.ADD_COMMUNITY_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction joinCommunityAPI(data) {\n  return axios.post(`/community/${data.communityId}/join`);\n}\n\nfunction* joinCommunity(action) {\n  try {\n    const result = yield call(joinCommunityAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.JOIN_COMMUNITY_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.JOIN_COMMUNITY_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction acceptCommunityAPI(data) {\n  return axios.post(`/community/${data.communityId}/accept/${data.userId}`, data);\n}\n\nfunction* acceptCommunity(action) {\n  try {\n    const result = yield call(acceptCommunityAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.ACCEPT_COMMUNITY_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.ACCEPT_COMMUNITY_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction refuseCommunityAPI(data) {\n  return axios.delete(`/community/${data.communityId}/refuse/${data.userId}`);\n}\n\nfunction* refuseCommunity(action) {\n  try {\n    const result = yield call(refuseCommunityAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.REFUSE_COMMUNITY_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.REFUSE_COMMUNITY_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction leaveCommunityAPI(data) {\n  return axios.delete(`/community/${data.communityId}/leave`);\n}\n\nfunction* leaveCommunity(action) {\n  try {\n    const result = yield call(leaveCommunityAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.LEAVE_COMMUNITY_SUCCESS,\n      data: result.data\n    });\n    yield put({\n      type: actionTypesUser.LEAVE_COMMUNITY_OF_ME,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.LEAVE_COMMUNITY_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction loadCommunityAPI(data) {\n  return axios.get(`/community/${data.communityId}`);\n}\n\nfunction* loadCommunity(action) {\n  try {\n    const result = yield call(loadCommunityAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.LOAD_COMMUNITY_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.LOAD_COMMUNITY_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction loadCommunitiesAPI() {\n  return axios.get('/communities');\n}\n\nfunction* loadCommunities() {\n  try {\n    const result = yield call(loadCommunitiesAPI);\n    yield put({\n      type: actionTypesCommunity.LOAD_COMMUNITIES_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.LOAD_COMMUNITIES_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction searchCommunitiesAPI(data) {\n  return axios.get(`/search/${encodeURIComponent(data.keyword)}`);\n}\n\nfunction* searchCommunities(action) {\n  try {\n    const result = yield call(searchCommunitiesAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.SEARCH_COMMUNITIES_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.SEARCH_COMMUNITIES_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction loadCountryCommunitiesAPI(data) {\n  return axios.get(`/communities/country/${data.country}?lastId=${data.communityId}`);\n}\n\nfunction* loadCountryCommunities(action) {\n  try {\n    const result = yield call(loadCountryCommunitiesAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.LOAD_COUNTRY_COMMUNITIES_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.LOAD_COUNTRY_COMMUNITIES_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction loadCategoryCommunitiesAPI(data) {\n  return axios.get(`/communities/category/${data.categoryId}?lastId=${data.communityId}`);\n}\n\nfunction* loadCategoryCommunities(action) {\n  try {\n    const result = yield call(loadCategoryCommunitiesAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.LOAD_CATEGORY_COMMUNITIES_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.LOAD_CATEGORY_COMMUNITIES_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction loadCategoryAPI(data) {\n  return axios.get(`/community/category/${data.categoryId}`);\n}\n\nfunction* loadCategory(action) {\n  try {\n    const result = yield call(loadCategoryAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.LOAD_CATEGORY_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.LOAD_CATEGORY_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction loadCategoriesAPI() {\n  return axios.get('/community/categories');\n}\n\nfunction* loadCategories() {\n  try {\n    const result = yield call(loadCategoriesAPI);\n    yield put({\n      type: actionTypesCommunity.LOAD_CATEGORIES_SUCCESS,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.LOAD_CATEGORIES_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction addMeetAPI(data) {\n  return axios.post(`/community/${data.communityId}/meet`, data);\n}\n\nfunction* addMeet(action) {\n  try {\n    const result = yield call(addMeetAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.ADD_MEET_SUCCESS,\n      data: result.data\n    });\n    yield put({\n      type: actionTypesUser.ADD_MEET_OF_ME,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.ADD_MEET_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction removeMeetAPI(data) {\n  return axios.delete(`/community/${data.communityId}/meet/${data.meetId}`);\n}\n\nfunction* removeMeet(action) {\n  try {\n    const result = yield call(removeMeetAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.REMOVE_MEET_SUCCESS,\n      data: result.data\n    });\n    yield put({\n      type: actionTypesUser.REMOVE_MEET_OF_ME,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.REMOVE_MEET_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction joinMeetAPI(data) {\n  return axios.post(`/community/${data.communityId}/meet/${data.meetId}/join`);\n}\n\nfunction* joinMeet(action) {\n  try {\n    const result = yield call(joinMeetAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.JOIN_MEET_SUCCESS,\n      data: result.data\n    });\n    yield put({\n      type: actionTypesUser.JOIN_MEET_OF_ME,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.JOIN_MEET_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction leaveMeetAPI(data) {\n  return axios.delete(`/community/${data.communityId}/meet/${data.meetId}/leave`);\n}\n\nfunction* leaveMeet(action) {\n  try {\n    const result = yield call(leaveMeetAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.LEAVE_MEET_SUCCESS,\n      data: result.data\n    });\n    yield put({\n      type: actionTypesUser.LEAVE_MEET_OF_ME,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.LEAVE_MEET_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction modifyMeetAPI(data) {\n  return axios.patch(`/community/${data.communityId}/meet/${data.meetId}`, data);\n}\n\nfunction* modifyMeet(action) {\n  try {\n    const result = yield call(modifyMeetAPI, action.data);\n    yield put({\n      type: actionTypesCommunity.MODIFY_MEET_SUCCESS,\n      data: result.data\n    });\n    yield put({\n      type: actionTypesUser.MODIFY_MEET_OF_ME,\n      data: result.data\n    });\n  } catch (error) {\n    yield put({\n      type: actionTypesCommunity.MODIFY_MEET_ERROR,\n      error: error.response.data\n    });\n  }\n}\n\nfunction* watchUploadCommunityImage() {\n  yield takeLatest(actionTypesCommunity.UPLOAD_COMMUNITY_IMAGE_REQUEST, uploadCommunityImage);\n}\n\nfunction* watchChangeCommunityInfo() {\n  yield takeLatest(actionTypesCommunity.CHANGE_COMMUNITY_INFO_REQUEST, changeCommunityInfo);\n}\n\nfunction* watchRemoveCommunity() {\n  yield takeLatest(actionTypesCommunity.REMOVE_COMMUNITY_REQUEST, removeCommunity);\n}\n\nfunction* watchAddCommunity() {\n  yield takeLatest(actionTypesCommunity.ADD_COMMUNITY_REQUEST, addCommunity);\n}\n\nfunction* watchJoinCommunity() {\n  yield takeLatest(actionTypesCommunity.JOIN_COMMUNITY_REQUEST, joinCommunity);\n}\n\nfunction* watchAcceptCommunity() {\n  yield takeLatest(actionTypesCommunity.ACCEPT_COMMUNITY_REQUEST, acceptCommunity);\n}\n\nfunction* watchRefuseCommunity() {\n  yield takeLatest(actionTypesCommunity.REFUSE_COMMUNITY_REQUEST, refuseCommunity);\n}\n\nfunction* watchLeaveCommunity() {\n  yield takeLatest(actionTypesCommunity.LEAVE_COMMUNITY_REQUEST, leaveCommunity);\n}\n\nfunction* watchLoadCommunity() {\n  yield takeLatest(actionTypesCommunity.LOAD_COMMUNITY_REQUEST, loadCommunity);\n}\n\nfunction* watchLoadCommunities() {\n  yield takeLatest(actionTypesCommunity.LOAD_COMMUNITIES_REQUEST, loadCommunities);\n}\n\nfunction* watchsearchCommunities() {\n  yield takeLatest(actionTypesCommunity.SEARCH_COMMUNITIES_REQUEST, searchCommunities);\n}\n\nfunction* watchLoadCountryCommunities() {\n  yield takeLatest(actionTypesCommunity.LOAD_COUNTRY_COMMUNITIES_REQUEST, loadCountryCommunities);\n}\n\nfunction* watchLoadCategoryCommunities() {\n  yield takeLatest(actionTypesCommunity.LOAD_CATEGORY_COMMUNITIES_REQUEST, loadCategoryCommunities);\n}\n\nfunction* watchLoadCategory() {\n  yield takeLatest(actionTypesCommunity.LOAD_CATEGORY_REQUEST, loadCategory);\n}\n\nfunction* watchLoadCategories() {\n  yield takeLatest(actionTypesCommunity.LOAD_CATEGORIES_REQUEST, loadCategories);\n}\n\nfunction* watchAddMeet() {\n  yield takeLatest(actionTypesCommunity.ADD_MEET_REQUEST, addMeet);\n}\n\nfunction* watchRemoveMeet() {\n  yield takeLatest(actionTypesCommunity.REMOVE_MEET_REQUEST, removeMeet);\n}\n\nfunction* watchJoinMeet() {\n  yield takeLatest(actionTypesCommunity.JOIN_MEET_REQUEST, joinMeet);\n}\n\nfunction* watchLeaveMeet() {\n  yield takeLatest(actionTypesCommunity.LEAVE_MEET_REQUEST, leaveMeet);\n}\n\nfunction* watchModifyMeet() {\n  yield takeLatest(actionTypesCommunity.MODIFY_MEET_REQUEST, modifyMeet);\n}\n\nexport default function* communitySaga() {\n  yield all([fork(watchUploadCommunityImage), fork(watchChangeCommunityInfo), fork(watchRemoveCommunity), fork(watchAddCommunity), fork(watchJoinCommunity), fork(watchAcceptCommunity), fork(watchRefuseCommunity), fork(watchLeaveCommunity), fork(watchLoadCommunity), fork(watchLoadCommunities), fork(watchsearchCommunities), fork(watchLoadCountryCommunities), fork(watchLoadCategoryCommunities), fork(watchLoadCategory), fork(watchLoadCategories), fork(watchAddMeet), fork(watchRemoveMeet), fork(watchJoinMeet), fork(watchLeaveMeet), fork(watchModifyMeet)]);\n}","map":{"version":3,"sources":["C:/Users/wlsdn/Desktop/next/community/front/sagas/community.ts"],"names":["all","call","fork","put","takeLatest","actionTypesCommunity","axios","actionTypesUser","uploadCommunityImageAPI","data","post","uploadCommunityImage","action","result","type","UPLOAD_COMMUNITY_IMAGE_SUCCESS","error","UPLOAD_COMMUNITY_IMAGE_ERROR","response","changeCommunityInfoAPI","communityId","changeCommunityInfo","CHANGE_COMMUNITY_INFO_SUCCESS","CHANGE_COMMUNITY_INFO_ERROR","removeCommunityAPI","delete","removeCommunity","REMOVE_COMMUNITY_SUCCESS","REMOVE_COMMUNITY_ERROR","addCommunityAPI","addCommunity","ADD_COMMUNITY_SUCCESS","ADD_COMMUNITY_ERROR","joinCommunityAPI","joinCommunity","JOIN_COMMUNITY_SUCCESS","JOIN_COMMUNITY_ERROR","acceptCommunityAPI","userId","acceptCommunity","ACCEPT_COMMUNITY_SUCCESS","ACCEPT_COMMUNITY_ERROR","refuseCommunityAPI","refuseCommunity","REFUSE_COMMUNITY_SUCCESS","REFUSE_COMMUNITY_ERROR","leaveCommunityAPI","leaveCommunity","LEAVE_COMMUNITY_SUCCESS","LEAVE_COMMUNITY_OF_ME","LEAVE_COMMUNITY_ERROR","loadCommunityAPI","get","loadCommunity","LOAD_COMMUNITY_SUCCESS","LOAD_COMMUNITY_ERROR","loadCommunitiesAPI","loadCommunities","LOAD_COMMUNITIES_SUCCESS","LOAD_COMMUNITIES_ERROR","searchCommunitiesAPI","encodeURIComponent","keyword","searchCommunities","SEARCH_COMMUNITIES_SUCCESS","SEARCH_COMMUNITIES_ERROR","loadCountryCommunitiesAPI","country","loadCountryCommunities","LOAD_COUNTRY_COMMUNITIES_SUCCESS","LOAD_COUNTRY_COMMUNITIES_ERROR","loadCategoryCommunitiesAPI","categoryId","loadCategoryCommunities","LOAD_CATEGORY_COMMUNITIES_SUCCESS","LOAD_CATEGORY_COMMUNITIES_ERROR","loadCategoryAPI","loadCategory","LOAD_CATEGORY_SUCCESS","LOAD_CATEGORY_ERROR","loadCategoriesAPI","loadCategories","LOAD_CATEGORIES_SUCCESS","LOAD_CATEGORIES_ERROR","addMeetAPI","addMeet","ADD_MEET_SUCCESS","ADD_MEET_OF_ME","ADD_MEET_ERROR","removeMeetAPI","meetId","removeMeet","REMOVE_MEET_SUCCESS","REMOVE_MEET_OF_ME","REMOVE_MEET_ERROR","joinMeetAPI","joinMeet","JOIN_MEET_SUCCESS","JOIN_MEET_OF_ME","JOIN_MEET_ERROR","leaveMeetAPI","leaveMeet","LEAVE_MEET_SUCCESS","LEAVE_MEET_OF_ME","LEAVE_MEET_ERROR","modifyMeetAPI","patch","modifyMeet","MODIFY_MEET_SUCCESS","MODIFY_MEET_OF_ME","MODIFY_MEET_ERROR","watchUploadCommunityImage","UPLOAD_COMMUNITY_IMAGE_REQUEST","watchChangeCommunityInfo","CHANGE_COMMUNITY_INFO_REQUEST","watchRemoveCommunity","REMOVE_COMMUNITY_REQUEST","watchAddCommunity","ADD_COMMUNITY_REQUEST","watchJoinCommunity","JOIN_COMMUNITY_REQUEST","watchAcceptCommunity","ACCEPT_COMMUNITY_REQUEST","watchRefuseCommunity","REFUSE_COMMUNITY_REQUEST","watchLeaveCommunity","LEAVE_COMMUNITY_REQUEST","watchLoadCommunity","LOAD_COMMUNITY_REQUEST","watchLoadCommunities","LOAD_COMMUNITIES_REQUEST","watchsearchCommunities","SEARCH_COMMUNITIES_REQUEST","watchLoadCountryCommunities","LOAD_COUNTRY_COMMUNITIES_REQUEST","watchLoadCategoryCommunities","LOAD_CATEGORY_COMMUNITIES_REQUEST","watchLoadCategory","LOAD_CATEGORY_REQUEST","watchLoadCategories","LOAD_CATEGORIES_REQUEST","watchAddMeet","ADD_MEET_REQUEST","watchRemoveMeet","REMOVE_MEET_REQUEST","watchJoinMeet","JOIN_MEET_REQUEST","watchLeaveMeet","LEAVE_MEET_REQUEST","watchModifyMeet","MODIFY_MEET_REQUEST","communitySaga"],"mappings":"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","sourcesContent":["import { all, call, fork, put, takeLatest } from 'redux-saga/effects';\r\nimport {\r\n  IAddCommunityRequest,\r\n  actionTypesCommunity,\r\n  ICommunityData,\r\n  ILoadCommunityRequest,\r\n  IUploadCommunityImageRequest,\r\n  IChangeCommunityInfoRequest,\r\n  IChangeCommunityInfoData,\r\n  ILoadCountryCommunitiesRequest,\r\n  ILoadCategoryCommunitiesRequest,\r\n  ILoadCategoryRequest,\r\n  IJoinCommunityRequest,\r\n  IAcceptCommunityRequest,\r\n  IRefuseCommunityRequest,\r\n  ILeaveCommunityRequest,\r\n  IAddMeetRequest,\r\n  IAddMeetData,\r\n  IRemoveMeetRequest,\r\n  IJoinMeetRequest,\r\n  ILeaveMeetRequest,\r\n  IModifyMeetRequest,\r\n  IModifyMeetData,\r\n  ISearchCommunitiesRequest,\r\n  IRemoveCommunityRequest,\r\n} from '../interfaces/community/communityAction.interfaces';\r\nimport axios from 'axios';\r\nimport { ICategory, ICommunity, IMeet, IUser } from 'interfaces/db';\r\nimport { actionTypesUser } from 'interfaces';\r\n\r\nfunction uploadCommunityImageAPI(data: FormData) {\r\n  return axios.post('/community/image', data);\r\n}\r\nfunction* uploadCommunityImage(action: IUploadCommunityImageRequest) {\r\n  try {\r\n    const result: { data: string[] } = yield call(uploadCommunityImageAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.UPLOAD_COMMUNITY_IMAGE_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.UPLOAD_COMMUNITY_IMAGE_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction changeCommunityInfoAPI(data: IChangeCommunityInfoData) {\r\n  return axios.post(`/community/${data.communityId}/info`, data);\r\n}\r\nfunction* changeCommunityInfo(action: IChangeCommunityInfoRequest) {\r\n  try {\r\n    const result: {\r\n      data: {\r\n        description: string;\r\n        caution: string;\r\n        requirement: string;\r\n        profilePhoto: string;\r\n      };\r\n    } = yield call(changeCommunityInfoAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.CHANGE_COMMUNITY_INFO_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.CHANGE_COMMUNITY_INFO_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction removeCommunityAPI(data: { communityId: number }) {\r\n  return axios.delete(`/community/${data.communityId}`);\r\n}\r\nfunction* removeCommunity(action: IRemoveCommunityRequest) {\r\n  try {\r\n    yield call(removeCommunityAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.REMOVE_COMMUNITY_SUCCESS,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.REMOVE_COMMUNITY_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction addCommunityAPI(data: ICommunityData) {\r\n  return axios.post('/community', data);\r\n}\r\nfunction* addCommunity(action: IAddCommunityRequest) {\r\n  try {\r\n    yield call(addCommunityAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.ADD_COMMUNITY_SUCCESS,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.ADD_COMMUNITY_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction joinCommunityAPI(data: { communityId: number }) {\r\n  return axios.post(`/community/${data.communityId}/join`);\r\n}\r\nfunction* joinCommunity(action: IJoinCommunityRequest) {\r\n  try {\r\n    const result: { data: IUser } = yield call(joinCommunityAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.JOIN_COMMUNITY_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.JOIN_COMMUNITY_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction acceptCommunityAPI(data: { communityId: number; userId: number }) {\r\n  return axios.post(`/community/${data.communityId}/accept/${data.userId}`, data);\r\n}\r\nfunction* acceptCommunity(action: IAcceptCommunityRequest) {\r\n  try {\r\n    const result: { data: IUser } = yield call(acceptCommunityAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.ACCEPT_COMMUNITY_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.ACCEPT_COMMUNITY_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction refuseCommunityAPI(data: { communityId: number; userId: number }) {\r\n  return axios.delete(`/community/${data.communityId}/refuse/${data.userId}`);\r\n}\r\nfunction* refuseCommunity(action: IRefuseCommunityRequest) {\r\n  try {\r\n    const result: { data: { userId: number } } = yield call(\r\n      refuseCommunityAPI,\r\n      action.data\r\n    );\r\n    yield put({\r\n      type: actionTypesCommunity.REFUSE_COMMUNITY_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.REFUSE_COMMUNITY_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction leaveCommunityAPI(data: { communityId: number }) {\r\n  return axios.delete(`/community/${data.communityId}/leave`);\r\n}\r\n\r\nfunction* leaveCommunity(action: ILeaveCommunityRequest) {\r\n  try {\r\n    const result: { data: { userId: number; communityId: number } } = yield call(\r\n      leaveCommunityAPI,\r\n      action.data\r\n    );\r\n    yield put({\r\n      type: actionTypesCommunity.LEAVE_COMMUNITY_SUCCESS,\r\n      data: result.data,\r\n    });\r\n    yield put({\r\n      type: actionTypesUser.LEAVE_COMMUNITY_OF_ME,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.LEAVE_COMMUNITY_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction loadCommunityAPI(data: { communityId: number }) {\r\n  return axios.get(`/community/${data.communityId}`);\r\n}\r\nfunction* loadCommunity(action: ILoadCommunityRequest) {\r\n  try {\r\n    const result: { data: ICommunity } = yield call(loadCommunityAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_COMMUNITY_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_COMMUNITY_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction loadCommunitiesAPI() {\r\n  return axios.get('/communities');\r\n}\r\nfunction* loadCommunities() {\r\n  try {\r\n    const result: { data: ICommunity[] } = yield call(loadCommunitiesAPI);\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_COMMUNITIES_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_COMMUNITIES_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction searchCommunitiesAPI(data: { keyword: string }) {\r\n  return axios.get(`/search/${encodeURIComponent(data.keyword)}`);\r\n}\r\nfunction* searchCommunities(action: ISearchCommunitiesRequest) {\r\n  try {\r\n    const result: { data: ICommunity[] } = yield call(searchCommunitiesAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.SEARCH_COMMUNITIES_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.SEARCH_COMMUNITIES_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction loadCountryCommunitiesAPI(data: { country: string; communityId: number }) {\r\n  return axios.get(`/communities/country/${data.country}?lastId=${data.communityId}`);\r\n}\r\nfunction* loadCountryCommunities(action: ILoadCountryCommunitiesRequest) {\r\n  try {\r\n    const result: { data: ICommunity[] } = yield call(\r\n      loadCountryCommunitiesAPI,\r\n      action.data\r\n    );\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_COUNTRY_COMMUNITIES_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_COUNTRY_COMMUNITIES_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction loadCategoryCommunitiesAPI(data: { categoryId: number; communityId: number }) {\r\n  return axios.get(`/communities/category/${data.categoryId}?lastId=${data.communityId}`);\r\n}\r\nfunction* loadCategoryCommunities(action: ILoadCategoryCommunitiesRequest) {\r\n  try {\r\n    const result: { data: ICommunity[] } = yield call(\r\n      loadCategoryCommunitiesAPI,\r\n      action.data\r\n    );\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_CATEGORY_COMMUNITIES_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_CATEGORY_COMMUNITIES_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction loadCategoryAPI(data: { categoryId: number }) {\r\n  return axios.get(`/community/category/${data.categoryId}`);\r\n}\r\nfunction* loadCategory(action: ILoadCategoryRequest) {\r\n  try {\r\n    const result: { data: { category: ICategory; communityLength: number } } = yield call(\r\n      loadCategoryAPI,\r\n      action.data\r\n    );\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_CATEGORY_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_CATEGORY_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction loadCategoriesAPI() {\r\n  return axios.get('/community/categories');\r\n}\r\nfunction* loadCategories() {\r\n  try {\r\n    const result: { data: ICategory[] } = yield call(loadCategoriesAPI);\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_CATEGORIES_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.LOAD_CATEGORIES_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction addMeetAPI(data: IAddMeetData) {\r\n  return axios.post(`/community/${data.communityId}/meet`, data);\r\n}\r\nfunction* addMeet(action: IAddMeetRequest) {\r\n  try {\r\n    const result: { data: IMeet } = yield call(addMeetAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.ADD_MEET_SUCCESS,\r\n      data: result.data,\r\n    });\r\n    yield put({\r\n      type: actionTypesUser.ADD_MEET_OF_ME,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.ADD_MEET_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction removeMeetAPI(data: { meetId: number; communityId: number }) {\r\n  return axios.delete(`/community/${data.communityId}/meet/${data.meetId}`);\r\n}\r\nfunction* removeMeet(action: IRemoveMeetRequest) {\r\n  try {\r\n    const result: { data: { meetId: number } } = yield call(removeMeetAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.REMOVE_MEET_SUCCESS,\r\n      data: result.data,\r\n    });\r\n    yield put({\r\n      type: actionTypesUser.REMOVE_MEET_OF_ME,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.REMOVE_MEET_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction joinMeetAPI(data: { meetId: number; communityId: number }) {\r\n  return axios.post(`/community/${data.communityId}/meet/${data.meetId}/join`);\r\n}\r\nfunction* joinMeet(action: IJoinMeetRequest) {\r\n  try {\r\n    const result: { data: IMeet } = yield call(joinMeetAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.JOIN_MEET_SUCCESS,\r\n      data: result.data,\r\n    });\r\n    yield put({\r\n      type: actionTypesUser.JOIN_MEET_OF_ME,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.JOIN_MEET_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction leaveMeetAPI(data: { meetId: number; communityId: number }) {\r\n  return axios.delete(`/community/${data.communityId}/meet/${data.meetId}/leave`);\r\n}\r\nfunction* leaveMeet(action: ILeaveMeetRequest) {\r\n  try {\r\n    const result: { data: { meetId: number; userId: number } } = yield call(\r\n      leaveMeetAPI,\r\n      action.data\r\n    );\r\n    yield put({\r\n      type: actionTypesCommunity.LEAVE_MEET_SUCCESS,\r\n      data: result.data,\r\n    });\r\n    yield put({\r\n      type: actionTypesUser.LEAVE_MEET_OF_ME,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.LEAVE_MEET_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction modifyMeetAPI(data: IModifyMeetData) {\r\n  return axios.patch(`/community/${data.communityId}/meet/${data.meetId}`, data);\r\n}\r\nfunction* modifyMeet(action: IModifyMeetRequest) {\r\n  try {\r\n    const result: { data: IMeet } = yield call(modifyMeetAPI, action.data);\r\n    yield put({\r\n      type: actionTypesCommunity.MODIFY_MEET_SUCCESS,\r\n      data: result.data,\r\n    });\r\n    yield put({\r\n      type: actionTypesUser.MODIFY_MEET_OF_ME,\r\n      data: result.data,\r\n    });\r\n  } catch (error) {\r\n    yield put({\r\n      type: actionTypesCommunity.MODIFY_MEET_ERROR,\r\n      error: error.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction* watchUploadCommunityImage() {\r\n  yield takeLatest(\r\n    actionTypesCommunity.UPLOAD_COMMUNITY_IMAGE_REQUEST,\r\n    uploadCommunityImage\r\n  );\r\n}\r\nfunction* watchChangeCommunityInfo() {\r\n  yield takeLatest(\r\n    actionTypesCommunity.CHANGE_COMMUNITY_INFO_REQUEST,\r\n    changeCommunityInfo\r\n  );\r\n}\r\nfunction* watchRemoveCommunity() {\r\n  yield takeLatest(actionTypesCommunity.REMOVE_COMMUNITY_REQUEST, removeCommunity);\r\n}\r\nfunction* watchAddCommunity() {\r\n  yield takeLatest(actionTypesCommunity.ADD_COMMUNITY_REQUEST, addCommunity);\r\n}\r\nfunction* watchJoinCommunity() {\r\n  yield takeLatest(actionTypesCommunity.JOIN_COMMUNITY_REQUEST, joinCommunity);\r\n}\r\nfunction* watchAcceptCommunity() {\r\n  yield takeLatest(actionTypesCommunity.ACCEPT_COMMUNITY_REQUEST, acceptCommunity);\r\n}\r\nfunction* watchRefuseCommunity() {\r\n  yield takeLatest(actionTypesCommunity.REFUSE_COMMUNITY_REQUEST, refuseCommunity);\r\n}\r\nfunction* watchLeaveCommunity() {\r\n  yield takeLatest(actionTypesCommunity.LEAVE_COMMUNITY_REQUEST, leaveCommunity);\r\n}\r\nfunction* watchLoadCommunity() {\r\n  yield takeLatest(actionTypesCommunity.LOAD_COMMUNITY_REQUEST, loadCommunity);\r\n}\r\nfunction* watchLoadCommunities() {\r\n  yield takeLatest(actionTypesCommunity.LOAD_COMMUNITIES_REQUEST, loadCommunities);\r\n}\r\nfunction* watchsearchCommunities() {\r\n  yield takeLatest(actionTypesCommunity.SEARCH_COMMUNITIES_REQUEST, searchCommunities);\r\n}\r\nfunction* watchLoadCountryCommunities() {\r\n  yield takeLatest(\r\n    actionTypesCommunity.LOAD_COUNTRY_COMMUNITIES_REQUEST,\r\n    loadCountryCommunities\r\n  );\r\n}\r\nfunction* watchLoadCategoryCommunities() {\r\n  yield takeLatest(\r\n    actionTypesCommunity.LOAD_CATEGORY_COMMUNITIES_REQUEST,\r\n    loadCategoryCommunities\r\n  );\r\n}\r\nfunction* watchLoadCategory() {\r\n  yield takeLatest(actionTypesCommunity.LOAD_CATEGORY_REQUEST, loadCategory);\r\n}\r\nfunction* watchLoadCategories() {\r\n  yield takeLatest(actionTypesCommunity.LOAD_CATEGORIES_REQUEST, loadCategories);\r\n}\r\nfunction* watchAddMeet() {\r\n  yield takeLatest(actionTypesCommunity.ADD_MEET_REQUEST, addMeet);\r\n}\r\nfunction* watchRemoveMeet() {\r\n  yield takeLatest(actionTypesCommunity.REMOVE_MEET_REQUEST, removeMeet);\r\n}\r\nfunction* watchJoinMeet() {\r\n  yield takeLatest(actionTypesCommunity.JOIN_MEET_REQUEST, joinMeet);\r\n}\r\nfunction* watchLeaveMeet() {\r\n  yield takeLatest(actionTypesCommunity.LEAVE_MEET_REQUEST, leaveMeet);\r\n}\r\nfunction* watchModifyMeet() {\r\n  yield takeLatest(actionTypesCommunity.MODIFY_MEET_REQUEST, modifyMeet);\r\n}\r\n\r\nexport default function* communitySaga() {\r\n  yield all([\r\n    fork(watchUploadCommunityImage),\r\n    fork(watchChangeCommunityInfo),\r\n    fork(watchRemoveCommunity),\r\n    fork(watchAddCommunity),\r\n    fork(watchJoinCommunity),\r\n    fork(watchAcceptCommunity),\r\n    fork(watchRefuseCommunity),\r\n    fork(watchLeaveCommunity),\r\n    fork(watchLoadCommunity),\r\n    fork(watchLoadCommunities),\r\n    fork(watchsearchCommunities),\r\n    fork(watchLoadCountryCommunities),\r\n    fork(watchLoadCategoryCommunities),\r\n    fork(watchLoadCategory),\r\n    fork(watchLoadCategories),\r\n    fork(watchAddMeet),\r\n    fork(watchRemoveMeet),\r\n    fork(watchJoinMeet),\r\n    fork(watchLeaveMeet),\r\n    fork(watchModifyMeet),\r\n  ]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}