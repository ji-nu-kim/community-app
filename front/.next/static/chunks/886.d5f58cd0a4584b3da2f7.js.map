{"version":3,"sources":["webpack://_N_E/./actions/actionUser.ts","webpack://_N_E/./components/Modals/UserInfoModal/styles.tsx","webpack://_N_E/./components/Modals/UserInfoModal/index.tsx","webpack://_N_E/./node_modules/next/dist/client/link.js","webpack://_N_E/./node_modules/next/dist/client/use-intersection.js","webpack://_N_E/./node_modules/next/link.js"],"names":["loginRequestAction","data","type","actionTypesUser","logOutRequestAction","removeImage","uploadImageRequestAction","signUpRequestAction","leaveRequestAction","changeProfileRequestAction","changeCountryRequestAction","checkNotificationRequestAction","removeNotificationRequestAction","ModalExternal","styled","ModalContainer","setUserInfoModal","dispatch","useDispatch","me","useSelector","state","user","UserInfoModalTrigger","useCallback","onClickLogOutBtn","onClickDeleteAccountBtun","confirm","userId","id","onClick","href","prefetch","_interopRequireWildcard","require","exports","default","_react","_router","_router2","_useIntersection","prefetched","router","as","options","isLocalURL","err","curLocale","locale","_default","props","child","p","useRouter","useMemo","resolveHref","resolvedHref","resolvedAs","children","replace","shallow","scroll","createElement","childRef","Children","only","ref","useIntersection","rootMargin","setIntersectionRef","isVisible","setRef","el","current","useEffect","shouldPrefetch","isPrefetched","childProps","e","defaultPrevented","currentTarget","nodeName","event","target","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","isModifiedEvent","preventDefault","indexOf","linkClicked","onMouseEnter","priority","passHref","localeDomain","isLocaleDomain","getDomainLocale","locales","domainLocales","addBasePath","addLocale","defaultLocale","cloneElement","__esModule","isDisabled","disabled","hasIntersectionObserver","unobserve","useRef","useState","visible","setVisible","undefined","tagName","element","callback","instance","observers","get","elements","Map","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","intersectionRatio","set","createObserver","observe","size","disconnect","idleCallback","_requestIdleCallback","requestIdleCallback","cancelIdleCallback","module"],"mappings":"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","file":"static/chunks/886.d5f58cd0a4584b3da2f7.js","sourcesContent":["import { IChangeCommunityInfoReturnData } from 'interfaces';\nimport { IMeet } from 'interfaces/db';\nimport {\n  actionTypesUser,\n  ILogInRequest,\n  ILogOutRequest,\n  ILoadMyInfoRequest,\n  IUploadImageRequest,\n  ISignUpRequest,\n  ILeaveRequest,\n  IChangeProfileRequest,\n  IChangeCountryRequest,\n  ICheckNotificationRequest,\n  IRemoveNotificationRequest,\n  IAddMeetOfMe,\n  IRemoveMeetOfMe,\n  IModifyMeetOfMe,\n  IJoinMeeetOfMe,\n  ILeaveMeetOfMe,\n  ILeaveCommunityOfMe,\n  IChangeCommunityOfMe,\n  SignUpData,\n  LoginData,\n  IRemoveUserImage,\n  ChangeProfileData,\n} from '../interfaces/user/userAction.interfaces';\n\nexport const loginRequestAction = (data: LoginData): ILogInRequest => {\n  return {\n    type: actionTypesUser.LOG_IN_REQUEST,\n    data,\n  };\n};\nexport const logOutRequestAction = (): ILogOutRequest => {\n  return {\n    type: actionTypesUser.LOG_OUT_REQUEST,\n  };\n};\nexport const loadMyInfoRequestAction = (): ILoadMyInfoRequest => {\n  return {\n    type: actionTypesUser.LOAD_MY_INFO_REQUEST,\n  };\n};\nexport const removeImage = (): IRemoveUserImage => {\n  return {\n    type: actionTypesUser.REMOVE_IMAGE,\n  };\n};\nexport const uploadImageRequestAction = (data: FormData): IUploadImageRequest => {\n  return {\n    type: actionTypesUser.UPLOAD_IMAGE_REQUEST,\n    data,\n  };\n};\nexport const signUpRequestAction = (data: SignUpData): ISignUpRequest => {\n  return {\n    type: actionTypesUser.SIGN_UP_REQUEST,\n    data,\n  };\n};\nexport const leaveRequestAction = (data: { userId: number }): ILeaveRequest => {\n  return {\n    type: actionTypesUser.LEAVE_REQUEST,\n    data,\n  };\n};\nexport const changeProfileRequestAction = (\n  data: ChangeProfileData\n): IChangeProfileRequest => {\n  return {\n    type: actionTypesUser.CHANGE_PROFILE_REQUEST,\n    data,\n  };\n};\nexport const changeCountryRequestAction = (data: {\n  country: string;\n}): IChangeCountryRequest => {\n  return {\n    type: actionTypesUser.CHANGE_COUNTRY_REQUEST,\n    data,\n  };\n};\nexport const checkNotificationRequestAction = (): ICheckNotificationRequest => {\n  return {\n    type: actionTypesUser.CHECK_NOTIFICATION_REQUEST,\n  };\n};\nexport const removeNotificationRequestAction = (data: {\n  notificationId: number;\n}): IRemoveNotificationRequest => {\n  return {\n    type: actionTypesUser.REMOVE_NOTIFICATION_REQUEST,\n    data,\n  };\n};\nexport const addMeetOfMe = (data: IMeet): IAddMeetOfMe => {\n  return {\n    type: actionTypesUser.ADD_MEET_OF_ME,\n    data,\n  };\n};\nexport const removeMeetOfMe = (data: { meetId: number }): IRemoveMeetOfMe => {\n  return {\n    type: actionTypesUser.REMOVE_MEET_OF_ME,\n    data,\n  };\n};\nexport const modifyMeetOfMe = (data: IMeet): IModifyMeetOfMe => {\n  return {\n    type: actionTypesUser.MODIFY_MEET_OF_ME,\n    data,\n  };\n};\nexport const joinMeetOfMe = (data: IMeet): IJoinMeeetOfMe => {\n  return {\n    type: actionTypesUser.JOIN_MEET_OF_ME,\n    data,\n  };\n};\nexport const leaveMeetOfMe = (data: {\n  meetId: number;\n  userId: number;\n}): ILeaveMeetOfMe => {\n  return {\n    type: actionTypesUser.LEAVE_MEET_OF_ME,\n    data,\n  };\n};\nexport const leaveCommunityOfMe = (data: {\n  communityId: number;\n  userId: number;\n}): ILeaveCommunityOfMe => {\n  return {\n    type: actionTypesUser.LEAVE_COMMUNITY_OF_ME,\n    data,\n  };\n};\nexport const changeCommunityOfMe = (\n  data: IChangeCommunityInfoReturnData\n): IChangeCommunityOfMe => {\n  return {\n    type: actionTypesUser.CHANGE_COMMUNITY_OF_ME,\n    data,\n  };\n};\n","import styled from 'styled-components';\r\n\r\nexport const ModalExternal = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: 1022;\r\n`;\r\n\r\nexport const ModalContainer = styled.div`\r\n  position: absolute;\r\n  z-index: 1000;\r\n  top: 50px;\r\n  right: 1rem;\r\n  width: 150px;\r\n  height: 150px;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: saturate(180%) blur(12px);\r\n  -webkit-backdrop-filter: saturate(180%) blur(12px);\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n\r\n  ul {\r\n    height: inherit;\r\n    list-style: none;\r\n    padding: 0;\r\n    display: grid;\r\n    grid-template-rows: repeat(3, 1fr);\r\n\r\n    li {\r\n      position: relative;\r\n      color: #fff;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-bottom: 1px solid rgba(255, 255, 255, 0.15);\r\n\r\n      :last-child {\r\n        padding: 10px;\r\n        border-bottom: none;\r\n      }\r\n      :hover {\r\n        background: rgba(0, 0, 0, 0.3);\r\n        border-radius: 10px;\r\n      }\r\n\r\n      a {\r\n        padding: 10px;\r\n        position: absolute;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: #fff;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { leaveRequestAction, logOutRequestAction } from 'actions/actionUser';\r\nimport { RootStateInterface } from 'interfaces/RootState';\r\nimport Link from 'next/link';\r\nimport React, { Dispatch, SetStateAction, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { ModalContainer, ModalExternal } from './styles';\r\n\r\ninterface UserInfoModalProps {\r\n  setUserInfoModal: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nfunction UserInfoModal({ setUserInfoModal }: UserInfoModalProps) {\r\n  const dispatch = useDispatch();\r\n  const { me } = useSelector((state: RootStateInterface) => state.user);\r\n\r\n  const UserInfoModalTrigger = useCallback(() => {\r\n    setUserInfoModal(false);\r\n  }, [setUserInfoModal]);\r\n\r\n  const onClickLogOutBtn = useCallback(() => {\r\n    return dispatch(logOutRequestAction());\r\n  }, []);\r\n\r\n  const onClickDeleteAccountBtun = useCallback(() => {\r\n    if (!me) return;\r\n\r\n    if (confirm('탈퇴하시겠습니까?')) {\r\n      return dispatch(leaveRequestAction({ userId: me.id }));\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [me]);\r\n\r\n  return (\r\n    <ModalExternal onClick={UserInfoModalTrigger}>\r\n      <ModalContainer onClick={UserInfoModalTrigger}>\r\n        <ul>\r\n          <li>\r\n            <Link href=\"/profile\" prefetch={false}>\r\n              <a>프로필</a>\r\n            </Link>\r\n          </li>\r\n          <li onClick={onClickLogOutBtn}>로그아웃</li>\r\n          <li onClick={onClickDeleteAccountBtun}>회원탈퇴</li>\r\n        </ul>\r\n      </ModalContainer>\r\n    </ModalExternal>\r\n  );\r\n}\r\n\r\nexport default UserInfoModal;\r\n","\"use strict\";var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");exports.__esModule=true;exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _router=require(\"../next-server/lib/router/router\");var _router2=require(\"./router\");var _useIntersection=require(\"./use-intersection\");const prefetched={};function prefetch(router,href,as,options){if(typeof window==='undefined'||!router)return;if(!(0,_router.isLocalURL)(href))return;// Prefetch the JSON page if asked (only in the client)\n// We need to handle a prefetch error here since we may be\n// loading with priority which can reject but we don't\n// want to force navigation since this is only a prefetch\nrouter.prefetch(href,as,options).catch(err=>{if(process.env.NODE_ENV!=='production'){// rethrow to show invalid URL errors\nthrow err;}});const curLocale=options&&typeof options.locale!=='undefined'?options.locale:router&&router.locale;// Join on an invalid URI character\nprefetched[href+'%'+as+(curLocale?'%'+curLocale:'')]=true;}function isModifiedEvent(event){const{target}=event.currentTarget;return target&&target!=='_self'||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey||// triggers resource download\nevent.nativeEvent&&event.nativeEvent.which===2;}function linkClicked(e,router,href,as,replace,shallow,scroll,locale){const{nodeName}=e.currentTarget;if(nodeName==='A'&&(isModifiedEvent(e)||!(0,_router.isLocalURL)(href))){// ignore click for browser’s default behavior\nreturn;}e.preventDefault();//  avoid scroll for urls with anchor refs\nif(scroll==null&&as.indexOf('#')>=0){scroll=false;}// replace state instead of push if prop is present\nrouter[replace?'replace':'push'](href,as,{shallow,locale,scroll});}function Link(props){if(process.env.NODE_ENV!=='production'){function createPropError(args){return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.`+(typeof window!=='undefined'?\"\\nOpen your browser's console to view the Component stack trace.\":''));}// TypeScript trick for type-guarding:\nconst requiredPropsGuard={href:true};const requiredProps=Object.keys(requiredPropsGuard);requiredProps.forEach(key=>{if(key==='href'){if(props[key]==null||typeof props[key]!=='string'&&typeof props[key]!=='object'){throw createPropError({key,expected:'`string` or `object`',actual:props[key]===null?'null':typeof props[key]});}}else{// TypeScript trick for type-guarding:\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst _=key;}});// TypeScript trick for type-guarding:\nconst optionalPropsGuard={as:true,replace:true,scroll:true,shallow:true,passHref:true,prefetch:true,locale:true};const optionalProps=Object.keys(optionalPropsGuard);optionalProps.forEach(key=>{const valType=typeof props[key];if(key==='as'){if(props[key]&&valType!=='string'&&valType!=='object'){throw createPropError({key,expected:'`string` or `object`',actual:valType});}}else if(key==='locale'){if(props[key]&&valType!=='string'){throw createPropError({key,expected:'`string`',actual:valType});}}else if(key==='replace'||key==='scroll'||key==='shallow'||key==='passHref'||key==='prefetch'){if(props[key]!=null&&valType!=='boolean'){throw createPropError({key,expected:'`boolean`',actual:valType});}}else{// TypeScript trick for type-guarding:\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst _=key;}});// This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n// eslint-disable-next-line react-hooks/rules-of-hooks\nconst hasWarned=_react.default.useRef(false);if(props.prefetch&&!hasWarned.current){hasWarned.current=true;console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');}}const p=props.prefetch!==false;const router=(0,_router2.useRouter)();const{href,as}=_react.default.useMemo(()=>{const[resolvedHref,resolvedAs]=(0,_router.resolveHref)(router,props.href,true);return{href:resolvedHref,as:props.as?(0,_router.resolveHref)(router,props.as):resolvedAs||resolvedHref};},[router,props.href,props.as]);let{children,replace,shallow,scroll,locale}=props;// Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\nif(typeof children==='string'){children=/*#__PURE__*/_react.default.createElement(\"a\",null,children);}// This will return the first child, if multiple are provided it will throw an error\nlet child;if(process.env.NODE_ENV==='development'){try{child=_react.Children.only(children);}catch(err){throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${props.href}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children`+(typeof window!=='undefined'?\"\\nOpen your browser's console to view the Component stack trace.\":''));}}else{child=_react.Children.only(children);}const childRef=child&&typeof child==='object'&&child.ref;const[setIntersectionRef,isVisible]=(0,_useIntersection.useIntersection)({rootMargin:'200px'});const setRef=_react.default.useCallback(el=>{setIntersectionRef(el);if(childRef){if(typeof childRef==='function')childRef(el);else if(typeof childRef==='object'){childRef.current=el;}}},[childRef,setIntersectionRef]);(0,_react.useEffect)(()=>{const shouldPrefetch=isVisible&&p&&(0,_router.isLocalURL)(href);const curLocale=typeof locale!=='undefined'?locale:router&&router.locale;const isPrefetched=prefetched[href+'%'+as+(curLocale?'%'+curLocale:'')];if(shouldPrefetch&&!isPrefetched){prefetch(router,href,as,{locale:curLocale});}},[as,href,isVisible,locale,p,router]);const childProps={ref:setRef,onClick:e=>{if(child.props&&typeof child.props.onClick==='function'){child.props.onClick(e);}if(!e.defaultPrevented){linkClicked(e,router,href,as,replace,shallow,scroll,locale);}}};childProps.onMouseEnter=e=>{if(!(0,_router.isLocalURL)(href))return;if(child.props&&typeof child.props.onMouseEnter==='function'){child.props.onMouseEnter(e);}prefetch(router,href,as,{priority:true});};// If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n// defined, we specify the current 'href', so that repetition is not needed by the user\nif(props.passHref||child.type==='a'&&!('href'in child.props)){const curLocale=typeof locale!=='undefined'?locale:router&&router.locale;// we only render domain locales if we are currently on a domain locale\n// so that locale links are still visitable in development/preview envs\nconst localeDomain=router&&router.isLocaleDomain&&(0,_router.getDomainLocale)(as,curLocale,router&&router.locales,router&&router.domainLocales);childProps.href=localeDomain||(0,_router.addBasePath)((0,_router.addLocale)(as,curLocale,router&&router.defaultLocale));}return/*#__PURE__*/_react.default.cloneElement(child,childProps);}var _default=Link;exports.default=_default;\n//# sourceMappingURL=link.js.map","\"use strict\";exports.__esModule=true;exports.useIntersection=useIntersection;var _react=require(\"react\");var _requestIdleCallback=require(\"./request-idle-callback\");const hasIntersectionObserver=typeof IntersectionObserver!=='undefined';function useIntersection({rootMargin,disabled}){const isDisabled=disabled||!hasIntersectionObserver;const unobserve=(0,_react.useRef)();const[visible,setVisible]=(0,_react.useState)(false);const setRef=(0,_react.useCallback)(el=>{if(unobserve.current){unobserve.current();unobserve.current=undefined;}if(isDisabled||visible)return;if(el&&el.tagName){unobserve.current=observe(el,isVisible=>isVisible&&setVisible(isVisible),{rootMargin});}},[isDisabled,rootMargin,visible]);(0,_react.useEffect)(()=>{if(!hasIntersectionObserver){if(!visible){const idleCallback=(0,_requestIdleCallback.requestIdleCallback)(()=>setVisible(true));return()=>(0,_requestIdleCallback.cancelIdleCallback)(idleCallback);}}},[visible]);return[setRef,visible];}function observe(element,callback,options){const{id,observer,elements}=createObserver(options);elements.set(element,callback);observer.observe(element);return function unobserve(){elements.delete(element);observer.unobserve(element);// Destroy observer when there's nothing left to watch:\nif(elements.size===0){observer.disconnect();observers.delete(id);}};}const observers=new Map();function createObserver(options){const id=options.rootMargin||'';let instance=observers.get(id);if(instance){return instance;}const elements=new Map();const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{const callback=elements.get(entry.target);const isVisible=entry.isIntersecting||entry.intersectionRatio>0;if(callback&&isVisible){callback(isVisible);}});},options);observers.set(id,instance={id,observer,elements});return instance;}\n//# sourceMappingURL=use-intersection.js.map","module.exports = require('./dist/client/link')\n"],"sourceRoot":""}