{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"C:/Users/wlsdn/Desktop/next/community/front/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { loginRequestAction } from 'actions/actionUser';\nimport { Button } from 'antd';\nimport Form from 'antd/lib/form/Form';\nimport FormLayout, { ButtonContainer, InputContainer } from 'components/Layouts/FormLayout';\nimport useInput from 'hooks/useInput';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction login() {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      me = _useSelector.me,\n      logInError = _useSelector.logInError,\n      logInDone = _useSelector.logInDone,\n      logInLoading = _useSelector.logInLoading;\n\n  var _useInput = useInput(''),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      email = _useInput2[0],\n      onChangeEmail = _useInput2[1];\n\n  var _useInput3 = useInput(''),\n      _useInput4 = _slicedToArray(_useInput3, 2),\n      password = _useInput4[0],\n      onChangePassword = _useInput4[1];\n\n  useEffect(function () {\n    if (me && me.id) {\n      Router.push('/');\n    }\n  }, [me]);\n  useEffect(function () {\n    if (logInDone) {\n      Router.push('/');\n    }\n  }, [logInDone]);\n  useEffect(function () {\n    if (logInError) {\n      alert(logInError);\n    }\n  }, [logInError]);\n  var onSubmit = useCallback(function () {\n    dispatch(loginRequestAction({\n      email: email,\n      password: password\n    }));\n  }, [email, password]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"community - \\uB85C\\uADF8\\uC778\"\n      })\n    }), /*#__PURE__*/_jsxs(FormLayout, {\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }), /*#__PURE__*/_jsxs(Form, {\n        onFinish: onSubmit,\n        children: [/*#__PURE__*/_jsxs(InputContainer, {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"email\",\n            children: \"\\uC774\\uBA54\\uC77C\"\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"input\", {\n            name: \"user-email\",\n            value: email,\n            onChange: onChangeEmail,\n            type: \"email\",\n            required: true\n          })]\n        }), /*#__PURE__*/_jsxs(InputContainer, {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"password\",\n            children: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"input\", {\n            name: \"user-password\",\n            value: password,\n            onChange: onChangePassword,\n            type: \"password\",\n            required: true\n          })]\n        }), /*#__PURE__*/_jsxs(ButtonContainer, {\n          children: [/*#__PURE__*/_jsx(Button, {\n            type: \"primary\",\n            size: \"large\",\n            htmlType: \"submit\",\n            loading: logInLoading,\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }), /*#__PURE__*/_jsx(Link, {\n            href: \"/signup\",\n            prefetch: false,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: /*#__PURE__*/_jsx(Button, {\n                size: \"large\",\n                htmlType: \"submit\",\n                children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n              })\n            })\n          })]\n        })]\n      })]\n    })]\n  });\n}\n\nexport default login;","map":{"version":3,"sources":["C:/Users/wlsdn/Desktop/next/community/front/pages/login.tsx"],"names":["loginRequestAction","Button","Form","FormLayout","ButtonContainer","InputContainer","useInput","Head","Link","Router","React","useCallback","useEffect","useDispatch","useSelector","login","dispatch","state","user","me","logInError","logInDone","logInLoading","email","onChangeEmail","password","onChangePassword","id","push","alert","onSubmit"],"mappings":"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","sourcesContent":["import { loginRequestAction } from 'actions/actionUser';\r\nimport { Button } from 'antd';\r\nimport Form from 'antd/lib/form/Form';\r\nimport FormLayout, {\r\n  ButtonContainer,\r\n  InputContainer,\r\n} from 'components/Layouts/FormLayout';\r\nimport useInput from 'hooks/useInput';\r\nimport { RootStateInterface } from 'interfaces/RootState';\r\nimport Head from 'next/head';\r\nimport Link from 'next/link';\r\nimport Router from 'next/router';\r\nimport React, { useCallback, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction login() {\r\n  const dispatch = useDispatch();\r\n  const { me, logInError, logInDone, logInLoading } = useSelector(\r\n    (state: RootStateInterface) => state.user\r\n  );\r\n  const [email, onChangeEmail] = useInput<string>('');\r\n  const [password, onChangePassword] = useInput<string>('');\r\n\r\n  useEffect(() => {\r\n    if (me && me.id) {\r\n      Router.push('/');\r\n    }\r\n  }, [me]);\r\n\r\n  useEffect(() => {\r\n    if (logInDone) {\r\n      Router.push('/');\r\n    }\r\n  }, [logInDone]);\r\n\r\n  useEffect(() => {\r\n    if (logInError) {\r\n      alert(logInError);\r\n    }\r\n  }, [logInError]);\r\n\r\n  const onSubmit = useCallback(() => {\r\n    dispatch(loginRequestAction({ email, password }));\r\n  }, [email, password]);\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>community - 로그인</title>\r\n      </Head>\r\n      <FormLayout>\r\n        <h1>로그인</h1>\r\n        <Form onFinish={onSubmit}>\r\n          <InputContainer>\r\n            <label htmlFor=\"email\">이메일</label>\r\n            <br />\r\n            <input\r\n              name=\"user-email\"\r\n              value={email}\r\n              onChange={onChangeEmail}\r\n              type=\"email\"\r\n              required\r\n            />\r\n          </InputContainer>\r\n\r\n          <InputContainer>\r\n            <label htmlFor=\"password\">비밀번호</label>\r\n            <br />\r\n            <input\r\n              name=\"user-password\"\r\n              value={password}\r\n              onChange={onChangePassword}\r\n              type=\"password\"\r\n              required\r\n            />\r\n          </InputContainer>\r\n\r\n          <ButtonContainer>\r\n            <Button type=\"primary\" size=\"large\" htmlType=\"submit\" loading={logInLoading}>\r\n              로그인\r\n            </Button>\r\n            <Link href=\"/signup\" prefetch={false}>\r\n              <a>\r\n                <Button size=\"large\" htmlType=\"submit\">\r\n                  회원가입\r\n                </Button>\r\n              </a>\r\n            </Link>\r\n          </ButtonContainer>\r\n        </Form>\r\n      </FormLayout>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default login;\r\n"]},"metadata":{},"sourceType":"module"}