{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport AppLayout from 'components/Layouts/AppLayout';\nimport CategoryLayout, { CategoryContent, CategoryHeader } from 'components/Layouts/CategoryLayout';\nimport React, { memo } from 'react';\nimport { useSelector } from 'react-redux';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport BoxStyleCard from 'components/Cards/BoxStyleCard';\n\nfunction keyword() {\n  var router = useRouter();\n\n  var _useSelector = useSelector(function (state) {\n    return state.community;\n  }),\n      changableCommunities = _useSelector.changableCommunities;\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsxs(\"title\", {\n        children: [\"community - \", router.query.keyword, \" \\uAC80\\uC0C9\"]\n      })\n    }), /*#__PURE__*/_jsx(AppLayout, {\n      children: /*#__PURE__*/_jsxs(CategoryLayout, {\n        children: [/*#__PURE__*/_jsx(CategoryHeader, {\n          children: /*#__PURE__*/_jsxs(\"h1\", {\n            children: [\"\\u201C\", router.query.keyword, \"\\u201D\\uC640\", /*#__PURE__*/_jsx(\"br\", {}), \"\\uC5F0\\uAD00\\uC788\\uB294 \\uCEE4\\uBBA4\\uB2C8\\uD2F0 \", changableCommunities.length, \"\\uAC1C\"]\n          })\n        }), /*#__PURE__*/_jsx(CategoryContent, {\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"cards-container\",\n            children: changableCommunities.map(function (community) {\n              return /*#__PURE__*/_jsx(\"div\", {\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/community/\".concat(community.id),\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(BoxStyleCard, {\n                      profilePhoto: community.profilePhoto,\n                      categoryName: community.Categories[0].name,\n                      country: community.country,\n                      communityName: community.communityName\n                    })\n                  })\n                })\n              }, community.id);\n            })\n          })\n        })]\n      })\n    })]\n  });\n}\n\nexport var __N_SSP = true;\nexport default /*#__PURE__*/memo(keyword);","map":{"version":3,"sources":["C:/Users/wlsdn/Desktop/next/community/front/pages/search/[keyword].tsx"],"names":["AppLayout","CategoryLayout","CategoryContent","CategoryHeader","React","memo","useSelector","Head","useRouter","Link","BoxStyleCard","keyword","router","state","community","changableCommunities","query","length","map","id","profilePhoto","Categories","name","country","communityName"],"mappings":";;;AAGA,OAAOA,SAAP,MAAsB,8BAAtB;AACA,OAAOC,cAAP,IACEC,eADF,EAEEC,cAFF,QAGO,mCAHP;AAMA,OAAOC,KAAP,IAAgBC,IAAhB,QAA4B,OAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAGA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;;AAEA,SAASC,OAAT,GAAmB;AACjB,MAAMC,MAAM,GAAGJ,SAAS,EAAxB;;AADiB,qBAEgBF,WAAW,CAC1C,UAACO,KAAD;AAAA,WAA+BA,KAAK,CAACC,SAArC;AAAA,GAD0C,CAF3B;AAAA,MAETC,oBAFS,gBAETA,oBAFS;;AAKjB,sBACE;AAAA,4BACE,KAAC,IAAD;AAAA,6BACE;AAAA,mCAAoBH,MAAM,CAACI,KAAP,CAAaL,OAAjC;AAAA;AADF,MADF,eAIE,KAAC,SAAD;AAAA,6BACE,MAAC,cAAD;AAAA,gCACE,KAAC,cAAD;AAAA,iCACE;AAAA,iCACUC,MAAM,CAACI,KAAP,CAAaL,OADvB,+BAEE,cAFF,wDAGaI,oBAAoB,CAACE,MAHlC;AAAA;AADF,UADF,eAQE,KAAC,eAAD;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,sBACGF,oBAAoB,CAACG,GAArB,CAAyB,UAAAJ,SAAS;AAAA,kCACjC;AAAA,uCACE,KAAC,IAAD;AAAM,kBAAA,IAAI,uBAAgBA,SAAS,CAACK,EAA1B,CAAV;AAAA,yCACE;AAAA,2CACE,KAAC,YAAD;AACE,sBAAA,YAAY,EAAEL,SAAS,CAACM,YAD1B;AAEE,sBAAA,YAAY,EAAEN,SAAS,CAACO,UAAV,CAAqB,CAArB,EAAwBC,IAFxC;AAGE,sBAAA,OAAO,EAAER,SAAS,CAACS,OAHrB;AAIE,sBAAA,aAAa,EAAET,SAAS,CAACU;AAJ3B;AADF;AADF;AADF,iBAAUV,SAAS,CAACK,EAApB,CADiC;AAAA,aAAlC;AADH;AADF,UARF;AAAA;AADF,MAJF;AAAA,IADF;AAoCD;;;AAiBD,4BAAed,IAAI,CAACM,OAAD,CAAnB","sourcesContent":["import { searchCommunitiesRequestAction } from 'actions/actionCommunity';\nimport { loadMyInfoRequestAction } from 'actions/actionUser';\nimport axios from 'axios';\nimport AppLayout from 'components/Layouts/AppLayout';\nimport CategoryLayout, {\n  CategoryContent,\n  CategoryHeader,\n} from 'components/Layouts/CategoryLayout';\nimport { RootStateInterface } from 'interfaces/RootState';\nimport { GetServerSideProps } from 'next';\nimport React, { memo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { END } from 'redux-saga';\nimport wrapper from 'store/configureStore';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport BoxStyleCard from 'components/Cards/BoxStyleCard';\n\nfunction keyword() {\n  const router = useRouter();\n  const { changableCommunities } = useSelector(\n    (state: RootStateInterface) => state.community\n  );\n  return (\n    <>\n      <Head>\n        <title>community - {router.query.keyword} 검색</title>\n      </Head>\n      <AppLayout>\n        <CategoryLayout>\n          <CategoryHeader>\n            <h1>\n              &ldquo;{router.query.keyword}&rdquo;와\n              <br />\n              연관있는 커뮤니티 {changableCommunities.length}개\n            </h1>\n          </CategoryHeader>\n          <CategoryContent>\n            <div className=\"cards-container\">\n              {changableCommunities.map(community => (\n                <div key={community.id}>\n                  <Link href={`/community/${community.id}`}>\n                    <a>\n                      <BoxStyleCard\n                        profilePhoto={community.profilePhoto}\n                        categoryName={community.Categories[0].name}\n                        country={community.country}\n                        communityName={community.communityName}\n                      />\n                    </a>\n                  </Link>\n                </div>\n              ))}\n            </div>\n          </CategoryContent>\n        </CategoryLayout>\n      </AppLayout>\n    </>\n  );\n}\n\nexport const getServerSideProps: GetServerSideProps = wrapper.getServerSideProps(\n  async context => {\n    const cookie = context.req ? context.req.headers.cookie : '';\n    const keyword = String(context.query.keyword);\n    axios.defaults.headers.Cookie = '';\n    if (context.req && cookie) {\n      axios.defaults.headers.Cookie = cookie;\n    }\n    context.store.dispatch(loadMyInfoRequestAction());\n    context.store.dispatch(searchCommunitiesRequestAction({ keyword }));\n    context.store.dispatch(END);\n    await context.store.sagaTask.toPromise();\n  }\n);\n\nexport default memo(keyword);\n"]},"metadata":{},"sourceType":"module"}