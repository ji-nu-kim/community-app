{"version":3,"sources":["webpack:///./components/Modals/CommentSettingModal/styles.tsx","webpack:///./components/Modals/CommentSettingModal/index.tsx"],"names":["ModalContainer","styled","div","CommentSettingModal","setCurrentModifyComment","setEditMode","postId","commentId","commentOwnerId","communityUserId","content","dispatch","useDispatch","commentOwner","onClickModifyButton","useCallback","prev","onClickDeleteButton","confirm","removeCommentRequestAction","onClickReportButton","reason","prompt","reportRequestAction","contentId","reporter","reportedPerson","variety","memo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEO,MAAMA,cAAc,gBAAGC,oCAAM,CAACC,GAAV;AAAA;AAAA;AAAA,ujBAApB,C;;;;;ACFP;AACA;AACA;AACA;;AAYA,SAASC,mBAAT,CAA6B;AAC3BC,yBAD2B;AAE3BC,aAF2B;AAG3BC,QAH2B;AAI3BC,WAJ2B;AAK3BC,gBAL2B;AAM3BC,iBAN2B;AAO3BC;AAP2B,CAA7B,EAQ6B;AAC3B,QAAMC,QAAQ,GAAGC,4CAAW,EAA5B;AACA,QAAMC,YAAY,GAAGL,cAAc,KAAKC,eAAxC;AAEA,QAAMK,mBAAmB,GAAGC,sCAAW,CAAC,MAAM;AAC5CX,2BAAuB,CAACG,SAAD,CAAvB;AACAF,eAAW,CAACW,IAAI,IAAI,CAACA,IAAV,CAAX;AACD,GAHsC,EAGpC,CAACT,SAAD,CAHoC,CAAvC;AAKA,QAAMU,mBAAmB,GAAGF,sCAAW,CAAC,MAAM;AAC5C,QAAIG,OAAO,CAAC,cAAD,CAAX,EAA6B;AAC3B,aAAOP,QAAQ,CAACQ,wDAA0B,CAAC;AAAEb,cAAF;AAAUC;AAAV,OAAD,CAA3B,CAAf;AACD;AACF,GAJsC,EAIpC,CAACD,MAAD,EAASC,SAAT,CAJoC,CAAvC;AAMA,QAAMa,mBAAmB,GAAGL,sCAAW,CAAC,MAAM;AAC5C,UAAMM,MAAM,GAAGC,MAAM,CAAC,gBAAD,CAArB;;AAEA,QAAID,MAAM,IAAIZ,eAAd,EAA+B;AAC7BE,cAAQ,CACNY,iDAAmB,CAAC;AAClBC,iBAAS,EAAEjB,SADO;AAElBkB,gBAAQ,EAAEhB,eAFQ;AAGlBiB,sBAAc,EAAElB,cAHE;AAIlBa,cAJkB;AAKlBM,eAAO,EAAE,SALS;AAMlBjB;AANkB,OAAD,CADb,CAAR;AAUD;AACF,GAfsC,EAepC,CAACF,cAAD,EAAiBC,eAAjB,EAAkCF,SAAlC,EAA6CG,OAA7C,CAfoC,CAAvC;AAiBA,sBACE,4BAAC,cAAD;AAAA,2BACE;AAAA,gBACGG,YAAY,gBACX;AAAA,gCACE;AAAI,iBAAO,EAAEC,mBAAb;AAAA;AAAA,UADF,eAEE;AAAI,iBAAO,EAAEG,mBAAb;AAAA;AAAA,UAFF;AAAA,QADW,gBAMX;AAAI,eAAO,EAAEG,mBAAb;AAAA;AAAA;AAPJ;AADF,IADF;AAcD;;AAEcQ,4IAAI,CAACzB,mBAAD,CAAnB,E","file":"38.a99d21cd9ecc54e92c77.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const ModalContainer = styled.div`\r\n  position: absolute;\r\n  z-index: 2000;\r\n  top: 0;\r\n  right: -5px;\r\n  width: 60px;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: saturate(180%) blur(12px);\r\n  -webkit-backdrop-filter: saturate(180%) blur(12px);\r\n  cursor: pointer;\r\n\r\n  ul {\r\n    height: inherit;\r\n    list-style: none;\r\n    padding: 0;\r\n    display: grid;\r\n    grid-template-rows: auto;\r\n    margin-bottom: 0;\r\n\r\n    li {\r\n      height: 30px;\r\n      font-size: 0.5rem;\r\n      position: relative;\r\n      color: #fff;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-bottom: 1px solid rgba(255, 255, 255, 0.15);\r\n\r\n      :last-child {\r\n        border-bottom: none;\r\n      }\r\n      :hover {\r\n        background: rgba(0, 0, 0, 0.3);\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { removeCommentRequestAction, reportRequestAction } from 'actions/actionPost';\r\nimport React, { Dispatch, memo, SetStateAction, useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { ModalContainer } from './styles';\r\n\r\ninterface CommentSettingModalProps {\r\n  setCurrentModifyComment: Dispatch<SetStateAction<number>>;\r\n  setEditMode: Dispatch<SetStateAction<boolean>>;\r\n  postId: number;\r\n  commentId: number;\r\n  commentOwnerId: number;\r\n  communityUserId: number;\r\n  content: string;\r\n}\r\n\r\nfunction CommentSettingModal({\r\n  setCurrentModifyComment,\r\n  setEditMode,\r\n  postId,\r\n  commentId,\r\n  commentOwnerId,\r\n  communityUserId,\r\n  content,\r\n}: CommentSettingModalProps) {\r\n  const dispatch = useDispatch();\r\n  const commentOwner = commentOwnerId === communityUserId;\r\n\r\n  const onClickModifyButton = useCallback(() => {\r\n    setCurrentModifyComment(commentId);\r\n    setEditMode(prev => !prev);\r\n  }, [commentId]);\r\n\r\n  const onClickDeleteButton = useCallback(() => {\r\n    if (confirm('댓글을 지우시겠습니까?')) {\r\n      return dispatch(removeCommentRequestAction({ postId, commentId }));\r\n    }\r\n  }, [postId, commentId]);\r\n\r\n  const onClickReportButton = useCallback(() => {\r\n    const reason = prompt('신고하는 이유를 적어주세요');\r\n\r\n    if (reason && communityUserId) {\r\n      dispatch(\r\n        reportRequestAction({\r\n          contentId: commentId,\r\n          reporter: communityUserId,\r\n          reportedPerson: commentOwnerId,\r\n          reason,\r\n          variety: 'comment',\r\n          content,\r\n        })\r\n      );\r\n    }\r\n  }, [commentOwnerId, communityUserId, commentId, content]);\r\n\r\n  return (\r\n    <ModalContainer>\r\n      <ul>\r\n        {commentOwner ? (\r\n          <>\r\n            <li onClick={onClickModifyButton}>수정</li>\r\n            <li onClick={onClickDeleteButton}>삭제</li>\r\n          </>\r\n        ) : (\r\n          <li onClick={onClickReportButton}>신고하기</li>\r\n        )}\r\n      </ul>\r\n    </ModalContainer>\r\n  );\r\n}\r\n\r\nexport default memo(CommentSettingModal);\r\n"],"sourceRoot":""}