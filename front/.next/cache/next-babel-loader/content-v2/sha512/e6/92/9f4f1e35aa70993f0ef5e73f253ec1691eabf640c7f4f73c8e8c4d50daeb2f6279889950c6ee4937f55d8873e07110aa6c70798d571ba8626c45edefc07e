{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/wlsdn/Desktop/frontend/react/next/community/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/wlsdn/Desktop/frontend/react/next/community/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CloseCircleOutlined } from '@ant-design/icons';\nimport { acceptCommunityRequestAction, refuseCommunityRequestAction } from 'actions/actionCommunity';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ModalExternal, ModalContainer, ModalBody, ModalHeader } from './styles';\n\nfunction JoinUserModal(_ref) {\n  var setJoinUserModal = _ref.setJoinUserModal,\n      singleCommunity = _ref.singleCommunity;\n  var dispatch = useDispatch();\n  var JoinUsers = singleCommunity.JoinUsers;\n  var closeJoinUserModal = useCallback(function () {\n    setJoinUserModal(false);\n  }, [setJoinUserModal]);\n  var onClickAccept = useCallback(function (userId) {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", dispatch(acceptCommunityRequestAction({\n                communityId: singleCommunity.id,\n                userId: userId,\n                title: \"\".concat(singleCommunity.communityName, \" \\uCEE4\\uBBA4\\uB2C8\\uD2F0 \\uAC00\\uC785\\uC2E0\\uCCAD\\uC774 \\uC2B9\\uC778\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\")\n              })));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  }, [singleCommunity]);\n  var onClickRefuse = useCallback(function (userId) {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", dispatch(refuseCommunityRequestAction({\n                communityId: singleCommunity.id,\n                userId: userId\n              })));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n  }, [singleCommunity]);\n  return /*#__PURE__*/_jsx(ModalExternal, {\n    onClick: closeJoinUserModal,\n    children: /*#__PURE__*/_jsxs(ModalContainer, {\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      },\n      children: [/*#__PURE__*/_jsxs(ModalHeader, {\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"modal-title\",\n          children: \"\\uAC00\\uC785\\uC2E0\\uCCAD\\uD55C \\uC720\\uC800\\uBAA9\\uB85D\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"close-btn\",\n          onClick: closeJoinUserModal,\n          children: /*#__PURE__*/_jsx(CloseCircleOutlined, {})\n        })]\n      }), /*#__PURE__*/_jsx(ModalBody, {\n        children: JoinUsers.map(function (user) {\n          return /*#__PURE__*/_jsxs(\"div\", {\n            className: \"card-container\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"card-image\",\n              children: user.profilePhoto ? /*#__PURE__*/_jsx(\"img\", {\n                src: user.profilePhoto,\n                alt: \"profile-photo\"\n              }) : '이미지'\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"card-info\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                children: [\"\\uB2C9\\uB124\\uC784: \", user.nickname]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                children: [\"\\uC9C0\\uC5ED: \", user.country]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"card-button\",\n              children: [/*#__PURE__*/_jsx(\"button\", {\n                onClick: onClickAccept(user.id),\n                children: \"\\uC2B9\\uC778\"\n              }), /*#__PURE__*/_jsx(\"button\", {\n                onClick: onClickRefuse(user.id),\n                children: \"\\uAC70\\uC808\"\n              })]\n            })]\n          }, user.id);\n        })\n      })]\n    })\n  });\n}\n\nexport default JoinUserModal;","map":{"version":3,"sources":["C:/Users/wlsdn/Desktop/frontend/react/next/community/front/components/Modals/JoinUserModal/index.tsx"],"names":["CloseCircleOutlined","acceptCommunityRequestAction","refuseCommunityRequestAction","React","useCallback","useDispatch","ModalExternal","ModalContainer","ModalBody","ModalHeader","JoinUserModal","setJoinUserModal","singleCommunity","dispatch","JoinUsers","closeJoinUserModal","onClickAccept","userId","communityId","id","title","communityName","onClickRefuse","e","stopPropagation","map","user","profilePhoto","nickname","country"],"mappings":"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","sourcesContent":["import { CloseCircleOutlined } from '@ant-design/icons';\nimport {\n  acceptCommunityRequestAction,\n  refuseCommunityRequestAction,\n} from 'actions/actionCommunity';\nimport { ICommunity } from 'interfaces/db';\nimport React, { Dispatch, SetStateAction, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ModalExternal, ModalContainer, ModalBody, ModalHeader } from './styles';\n\ninterface JoinUserModalProps {\n  setJoinUserModal: Dispatch<SetStateAction<boolean>>;\n  singleCommunity: ICommunity;\n}\n\nfunction JoinUserModal({ setJoinUserModal, singleCommunity }: JoinUserModalProps) {\n  const dispatch = useDispatch();\n  const { JoinUsers } = singleCommunity;\n\n  const closeJoinUserModal = useCallback(() => {\n    setJoinUserModal(false);\n  }, [setJoinUserModal]);\n\n  const onClickAccept = useCallback(\n    (userId: number) => async () => {\n      return dispatch(\n        acceptCommunityRequestAction({\n          communityId: singleCommunity.id,\n          userId,\n          title: `${singleCommunity.communityName} 커뮤니티 가입신청이 승인되었습니다`,\n        })\n      );\n    },\n    [singleCommunity]\n  );\n\n  const onClickRefuse = useCallback(\n    (userId: number) => async () => {\n      return dispatch(\n        refuseCommunityRequestAction({\n          communityId: singleCommunity.id,\n          userId,\n        })\n      );\n    },\n    [singleCommunity]\n  );\n\n  return (\n    <ModalExternal onClick={closeJoinUserModal}>\n      <ModalContainer onClick={e => e.stopPropagation()}>\n        <ModalHeader>\n          <div className=\"modal-title\">가입신청한 유저목록</div>\n          <div className=\"close-btn\" onClick={closeJoinUserModal}>\n            <CloseCircleOutlined />\n          </div>\n        </ModalHeader>\n        <ModalBody>\n          {JoinUsers.map(user => (\n            <div key={user.id} className=\"card-container\">\n              <div className=\"card-image\">\n                {user.profilePhoto ? (\n                  <img src={user.profilePhoto} alt=\"profile-photo\" />\n                ) : (\n                  '이미지'\n                )}\n              </div>\n              <div className=\"card-info\">\n                <div>닉네임: {user.nickname}</div>\n                <div>지역: {user.country}</div>\n              </div>\n              <div className=\"card-button\">\n                <button onClick={onClickAccept(user.id)}>승인</button>\n                <button onClick={onClickRefuse(user.id)}>거절</button>\n              </div>\n            </div>\n          ))}\n        </ModalBody>\n      </ModalContainer>\n    </ModalExternal>\n  );\n}\n\nexport default JoinUserModal;\n"]},"metadata":{},"sourceType":"module"}