{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{\"7pp9\":function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return i})),n.d(t,\"f\",(function(){return a})),n.d(t,\"i\",(function(){return o})),n.d(t,\"g\",(function(){return c})),n.d(t,\"c\",(function(){return s})),n.d(t,\"a\",(function(){return d})),n.d(t,\"h\",(function(){return l})),n.d(t,\"d\",(function(){return m})),n.d(t,\"j\",(function(){return u})),n.d(t,\"e\",(function(){return E}));var r=n(\"hiaJ\"),i=function(e){return{type:r.a.ADD_POST_REQUEST,data:e}},a=function(e){return{type:r.a.REMOVE_POST_REQUEST,data:e}},o=function(e){return{type:r.a.UPDATE_POST_REQUEST,data:e}},c=function(e){return{type:r.a.REPORT_REQUEST,data:e}},s=function(e){return{type:r.a.LOAD_POSTS_REQUEST,data:e}},d=function(e){return{type:r.a.ADD_COMMENT_REQUEST,data:e}},l=function(e){return{type:r.a.UPDATE_COMMENT_REQUEST,data:e}},m=function(e){return{type:r.a.REMOVE_COMMENT_REQUEST,data:e}},u=function(e){return{type:r.a.UPLOAD_IMAGES_REQUEST,data:e}},E=function(e){return{type:r.a.REMOVE_IMAGE,data:e}}},\"Ivi+\":function(e,t,n){!function(e){\"use strict\";e.defineLocale(\"ko\",{months:\"1\\uc6d4_2\\uc6d4_3\\uc6d4_4\\uc6d4_5\\uc6d4_6\\uc6d4_7\\uc6d4_8\\uc6d4_9\\uc6d4_10\\uc6d4_11\\uc6d4_12\\uc6d4\".split(\"_\"),monthsShort:\"1\\uc6d4_2\\uc6d4_3\\uc6d4_4\\uc6d4_5\\uc6d4_6\\uc6d4_7\\uc6d4_8\\uc6d4_9\\uc6d4_10\\uc6d4_11\\uc6d4_12\\uc6d4\".split(\"_\"),weekdays:\"\\uc77c\\uc694\\uc77c_\\uc6d4\\uc694\\uc77c_\\ud654\\uc694\\uc77c_\\uc218\\uc694\\uc77c_\\ubaa9\\uc694\\uc77c_\\uae08\\uc694\\uc77c_\\ud1a0\\uc694\\uc77c\".split(\"_\"),weekdaysShort:\"\\uc77c_\\uc6d4_\\ud654_\\uc218_\\ubaa9_\\uae08_\\ud1a0\".split(\"_\"),weekdaysMin:\"\\uc77c_\\uc6d4_\\ud654_\\uc218_\\ubaa9_\\uae08_\\ud1a0\".split(\"_\"),longDateFormat:{LT:\"A h:mm\",LTS:\"A h:mm:ss\",L:\"YYYY.MM.DD.\",LL:\"YYYY\\ub144 MMMM D\\uc77c\",LLL:\"YYYY\\ub144 MMMM D\\uc77c A h:mm\",LLLL:\"YYYY\\ub144 MMMM D\\uc77c dddd A h:mm\",l:\"YYYY.MM.DD.\",ll:\"YYYY\\ub144 MMMM D\\uc77c\",lll:\"YYYY\\ub144 MMMM D\\uc77c A h:mm\",llll:\"YYYY\\ub144 MMMM D\\uc77c dddd A h:mm\"},calendar:{sameDay:\"\\uc624\\ub298 LT\",nextDay:\"\\ub0b4\\uc77c LT\",nextWeek:\"dddd LT\",lastDay:\"\\uc5b4\\uc81c LT\",lastWeek:\"\\uc9c0\\ub09c\\uc8fc dddd LT\",sameElse:\"L\"},relativeTime:{future:\"%s \\ud6c4\",past:\"%s \\uc804\",s:\"\\uba87 \\ucd08\",ss:\"%d\\ucd08\",m:\"1\\ubd84\",mm:\"%d\\ubd84\",h:\"\\ud55c \\uc2dc\\uac04\",hh:\"%d\\uc2dc\\uac04\",d:\"\\ud558\\ub8e8\",dd:\"%d\\uc77c\",M:\"\\ud55c \\ub2ec\",MM:\"%d\\ub2ec\",y:\"\\uc77c \\ub144\",yy:\"%d\\ub144\"},dayOfMonthOrdinalParse:/\\d{1,2}(\\uc77c|\\uc6d4|\\uc8fc)/,ordinal:function(e,t){switch(t){case\"d\":case\"D\":case\"DDD\":return e+\"\\uc77c\";case\"M\":return e+\"\\uc6d4\";case\"w\":case\"W\":return e+\"\\uc8fc\";default:return e}},meridiemParse:/\\uc624\\uc804|\\uc624\\ud6c4/,isPM:function(e){return\"\\uc624\\ud6c4\"===e},meridiem:function(e,t,n){return e<12?\"\\uc624\\uc804\":\"\\uc624\\ud6c4\"}})}(n(\"wd/R\"))},KEd5:function(e,t,n){var r={\"./ko\":\"Ivi+\"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=\"KEd5\"},hiaJ:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var r={ADD_POST_REQUEST:\"ADD_POST_REQUEST\",ADD_POST_SUCCESS:\"ADD_POST_SUCCESS\",ADD_POST_ERROR:\"ADD_POST_ERROR\",REMOVE_POST_REQUEST:\"REMOVE_POST_REQUEST\",REMOVE_POST_SUCCESS:\"REMOVE_POST_SUCCESS\",REMOVE_POST_ERROR:\"REMOVE_POST_ERROR\",UPDATE_POST_REQUEST:\"UPDATE_POST_REQUEST\",UPDATE_POST_SUCCESS:\"UPDATE_POST_SUCCESS\",UPDATE_POST_ERROR:\"UPDATE_POST_ERROR\",LOAD_POSTS_REQUEST:\"LOAD_POSTS_REQUEST\",LOAD_POSTS_SUCCESS:\"LOAD_POSTS_SUCCESS\",LOAD_POSTS_ERROR:\"LOAD_POSTS_ERROR\",ADD_COMMENT_REQUEST:\"ADD_COMMENT_REQUEST\",ADD_COMMENT_SUCCESS:\"ADD_COMMENT_SUCCESS\",ADD_COMMENT_ERROR:\"ADD_COMMENT_ERROR\",REMOVE_COMMENT_REQUEST:\"REMOVE_COMMENT_REQUEST\",REMOVE_COMMENT_SUCCESS:\"REMOVE_COMMENT_SUCCESS\",REMOVE_COMMENT_ERROR:\"REMOVE_COMMENT_ERROR\",UPDATE_COMMENT_REQUEST:\"UPDATE_COMMENT_REQUEST\",UPDATE_COMMENT_SUCCESS:\"UPDATE_COMMENT_SUCCESS\",UPDATE_COMMENT_ERROR:\"UPDATE_COMMENT_ERROR\",UPLOAD_IMAGES_REQUEST:\"UPLOAD_IMAGES_REQUEST\",UPLOAD_IMAGES_SUCCESS:\"UPLOAD_IMAGES_SUCCESS\",UPLOAD_IMAGES_ERROR:\"UPLOAD_IMAGES_ERROR\",REMOVE_IMAGE:\"REMOVE_IMAGE\",REPORT_REQUEST:\"REPORT_REQUEST\",REPORT_SUCCESS:\"REPORT_SUCCESS\",REPORT_ERROR:\"REPORT_ERROR\"}},p2OE:function(e,t,n){\"use strict\";n.r(t);var r=n(\"nKUr\"),i=n(\"q1tI\"),a={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z\"}}]},name:\"more\",theme:\"outlined\"},o=n(\"6VBw\"),c=function(e,t){return i.createElement(o.a,Object.assign({},e,{ref:t,icon:a}))};c.displayName=\"MoreOutlined\";var s=i.forwardRef(c),d={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z\"}}]},name:\"message\",theme:\"outlined\"},l=function(e,t){return i.createElement(o.a,Object.assign({},e,{ref:t,icon:d}))};l.displayName=\"MessageOutlined\";var m=i.forwardRef(l),u=n(\"7pp9\"),E=n(\"wd/R\"),O=n.n(E),_=n(\"Vvt1\"),f=n.n(_),S=n(\"/MKj\"),b=n(\"vOnD\").b.div.withConfig({displayName:\"styles__PostContainer\",componentId:\"glwfg8-0\"})([\"overflow:auto;height:100%;backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background:rgba(0,0,0,0.4);.post-form-container{background:rgba(255,255,255,0.4);padding:1rem;margin-bottom:2rem;}.visitor-post{height:100%;display:flex;justify-content:center;align-items:center;}.header{position:relative;display:flex;justify-content:space-between;.header-left{display:flex;align-items:center;.left-profile-image{width:24px;height:24px;border-radius:50%;object-fit:cover;margin-right:8px;}.left-fake-image{width:24px;height:24px;border-radius:50%;margin-right:8px;background:rgba(0,0,0,0.5);text-align:center;}.left-nickname{font-weight:bold;}}.header-right{display:flex;align-items:center;position:relative;.right-day{font-size:0.75rem;}.right-buttons{margin-left:8px;font-size:16px;cursor:pointer;:hover{color:rgba(0,0,0,0.4);}}}}.post-body-container{position:relative;background:rgba(255,255,255,0.4);:not(:last-child){margin-bottom:1rem;}.post-body-header{border-bottom:1px solid rgba(0,0,0,0.2);padding:0.5rem;}.post-image{width:100%;object-fit:cover;}.post-text{padding:1rem 0.5rem;white-space:pre;}.post-comment-info{border-top:1px solid rgba(0,0,0,0.2);padding:0.5rem;}.post-comment-container{position:relative;margin:0.5rem 0;padding:0.5rem;background:linear-gradient( 120deg,rgba(69,104,220,0.7),rgba(176,106,179,0.7) );.comment-header{}.comment-text{margin-top:0.5rem;text-align:justify;white-space:pre;}}.post-comment-form-container{text-align:end;}}\"]),p=f()((function(){return n.e(50).then(n.bind(null,\"75CV\"))}),{loadableGenerated:{webpack:function(){return[\"75CV\"]},modules:[\"components/Modals/PostSettingModal\"]}}),M=f()((function(){return n.e(34).then(n.bind(null,\"XmWp\"))}),{loadableGenerated:{webpack:function(){return[\"XmWp\"]},modules:[\"components/Modals/PostEditModal\"]}}),h=f()((function(){return n.e(47).then(n.bind(null,\"/i6i\"))}),{loadableGenerated:{webpack:function(){return[\"/i6i\"]},modules:[\"components/Modals/CommentSettingModal\"]}}),R=f()((function(){return n.e(32).then(n.bind(null,\"g1Iv\"))}),{loadableGenerated:{webpack:function(){return[\"g1Iv\"]},modules:[\"components/Modals/CommentEditModal\"]}}),j=f()((function(){return Promise.all([n.e(5),n.e(1),n.e(51)]).then(n.bind(null,\"MNTT\"))}),{loadableGenerated:{webpack:function(){return[\"MNTT\"]},modules:[\"components/PostForm\"]}}),T=f()((function(){return Promise.all([n.e(5),n.e(1),n.e(42)]).then(n.bind(null,\"gwkI\"))}),{loadableGenerated:{webpack:function(){return[\"gwkI\"]},modules:[\"components/CommentForm\"]}});function g(e){var t=e.singleCommunity,n=e.communityUser,a=Object(S.b)(),o=Object(S.c)((function(e){return e.post})),c=o.mainPosts,d=o.hasMorePost,l=o.loadPostsLoading,E=o.updateCommentDone,_=Object(i.useState)(!1),f=_[0],g=_[1],C=Object(i.useState)(!1),U=C[0],D=C[1],P=Object(i.useState)(0),x=P[0],A=P[1],v=Object(i.useState)(0),N=v[0],y=v[1],k=Object(i.useState)(!1),L=k[0],w=k[1],I=Object(i.useState)(0),Y=I[0],Q=I[1],V=Object(i.useState)(0),G=V[0],z=V[1],F=Object(i.useState)(!1),W=F[0],J=F[1],K=Object(i.useState)(0),B=K[0],H=K[1],X=Object(i.useRef)(null),q=Object(i.useCallback)((function(e){return function(){A(e),D(!0)}}),[]),Z=Object(i.useCallback)((function(e){return function(){Q(e),w(!0)}}),[]),$=Object(i.useCallback)((function(e){return function(){H(e),J((function(e){return!e}))}}),[]),ee=Object(i.useCallback)((function(){(U||L)&&(D(!1),w(!1))}),[U,L]);return Object(i.useEffect)((function(){E&&g(!1)}),[E]),Object(i.useEffect)((function(){var e=X.current;if(e)return e.addEventListener(\"scroll\",r),function(){return e.removeEventListener(\"scroll\",r)};function r(e){if(n&&c.length&&e.target.scrollTop>=e.target.scrollHeight-e.target.offsetHeight-300&&d&&!l){var r=c[c.length-1].id;a(Object(u.c)({communityId:t.id,postId:r}))}}}),[n,c,d,l,t,X.current]),Object(r.jsx)(b,{onClick:ee,ref:X,children:n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(\"div\",{className:\"post-form-container\",children:Object(r.jsx)(j,{})}),c.length?Object(r.jsx)(r.Fragment,{children:c.map((function(e){return Object(r.jsxs)(\"div\",{className:\"post-body-container\",children:[f&&e.id===N&&Object(r.jsx)(M,{setEditMode:g,setCurrentModifyPost:y,currentPostText:e.content,postId:e.id,communityId:t.id}),Object(r.jsxs)(\"div\",{className:\"header post-body-header\",children:[Object(r.jsxs)(\"div\",{className:\"header-left\",children:[Object(r.jsx)(\"span\",{children:e.User.profilePhoto?Object(r.jsx)(\"img\",{className:\"left-profile-image\",src:\"\".concat(\"http://localhost:3065\",\"/\").concat(e.User.profilePhoto),alt:\"profile image\"}):Object(r.jsx)(\"div\",{className:\"left-fake-image\",children:e.User.nickname[0]})}),Object(r.jsx)(\"div\",{className:\"left-nickname\",children:e.User.nickname})]}),Object(r.jsxs)(\"div\",{className:\"header-right\",children:[Object(r.jsx)(\"div\",{className:\"right-day\",children:O()(e.createdAt).locale(\"ko\").format(\"LLL\")}),Object(r.jsx)(\"div\",{className:\"right-buttons\",onClick:q(e.id),children:Object(r.jsx)(s,{})}),U&&e.id===x&&Object(r.jsx)(p,{setCurrentModifyPost:y,setEditMode:g,postId:e.id,communityId:t.id,postOwnerId:e.User.id,communityUserId:n.id,content:e.content})]})]}),e.Images.length?Object(r.jsx)(\"img\",{src:\"\".concat(\"http://localhost:3065\",\"/\").concat(e.Images[0].src),alt:\"image\",className:\"post-image\"}):null,Object(r.jsx)(\"div\",{className:\"post-text\",children:e.content}),Object(r.jsxs)(\"div\",{className:\"post-comment-info\",children:[Object(r.jsxs)(\"div\",{onClick:$(e.id),style:{cursor:\"pointer\"},children:[Object(r.jsx)(\"span\",{style:{marginRight:\"4px\"},children:Object(r.jsx)(m,{})}),e.Comments.length?\"\\ub313\\uae00 \".concat(e.Comments.length,\"\\uac1c \\ubaa8\\ub450\\ubcf4\\uae30\"):\"\\ub313\\uae00 \\uc791\\uc131\\ud558\\uae30\"]}),W&&B===e.id&&Object(r.jsxs)(r.Fragment,{children:[e.Comments&&e.Comments.map((function(t){return Object(r.jsxs)(\"div\",{className:\"post-comment-container\",children:[f&&t.id===G&&Object(r.jsx)(R,{setEditMode:g,setCurrentModifyComment:z,currentCommentText:t.content,postId:e.id,commentId:t.id}),Object(r.jsxs)(\"div\",{className:\"header comment-header\",children:[Object(r.jsxs)(\"div\",{className:\"header-left\",children:[Object(r.jsx)(\"span\",{children:t.User.profilePhoto?Object(r.jsx)(\"img\",{className:\"left-profile-image\",src:\"\".concat(\"http://localhost:3065\",\"/\").concat(t.User.profilePhoto),alt:\"profile image\"}):Object(r.jsx)(\"div\",{className:\"left-fake-image\",children:t.User.nickname[0]})}),Object(r.jsx)(\"div\",{className:\"left-nickname\",children:t.User.nickname})]}),Object(r.jsxs)(\"div\",{className:\"header-right\",children:[Object(r.jsx)(\"div\",{className:\"right-day\",children:O()(t.createdAt).locale(\"ko\").format(\"LLL\")}),Object(r.jsx)(\"div\",{className:\"right-buttons\",onClick:Z(t.id),children:Object(r.jsx)(s,{})})]}),L&&t.id===Y&&Object(r.jsx)(h,{setCurrentModifyComment:z,setEditMode:g,postId:e.id,commentId:t.id,commentOwnerId:t.User.id,communityUserId:n.id,content:t.content})]}),Object(r.jsx)(\"div\",{className:\"comment-text\",children:t.content})]},t.id)})),Object(r.jsx)(\"div\",{className:\"post-comment-form-container\",children:Object(r.jsx)(T,{postId:e.id})})]})]})]},e.id)}))}):null]}):Object(r.jsx)(\"div\",{className:\"visitor-post\",children:\"\\ucee4\\ubba4\\ub2c8\\ud2f0\\uc720\\uc800\\ub9cc \\ubcfc \\uc218 \\uc788\\uc2b5\\ub2c8\\ub2e4\"})})}t.default=Object(i.memo)(g)}}]);","map":{"version":3,"sources":["static/chunks/30.118ff130f5c91a2525cf.js"],"names":["window","push","7pp9","module","__webpack_exports__","__webpack_require__","d","addPostRequestAction","removePostRequestAction","updatePostRequestAction","reportRequestAction","loadPostsRequestAction","addCommentRequestAction","updateCommentRequestAction","removeCommentRequestAction","uploadImagesRequestAction","removeImage","_interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__","data","type","ADD_POST_REQUEST","REMOVE_POST_REQUEST","UPDATE_POST_REQUEST","REPORT_REQUEST","LOAD_POSTS_REQUEST","ADD_COMMENT_REQUEST","UPDATE_COMMENT_REQUEST","REMOVE_COMMENT_REQUEST","UPLOAD_IMAGES_REQUEST","REMOVE_IMAGE","Ivi+","exports","moment","defineLocale","months","split","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","L","LL","LLL","LLLL","l","ll","lll","llll","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","relativeTime","future","past","s","ss","m","mm","h","hh","dd","M","MM","y","yy","dayOfMonthOrdinalParse","ordinal","number","period","meridiemParse","isPM","token","meridiem","hour","minute","isUpper","factory","KEd5","map","./ko","webpackContext","req","id","webpackContextResolve","o","e","Error","code","keys","Object","resolve","hiaJ","actionTypesPost","ADD_POST_SUCCESS","ADD_POST_ERROR","REMOVE_POST_SUCCESS","REMOVE_POST_ERROR","UPDATE_POST_SUCCESS","UPDATE_POST_ERROR","LOAD_POSTS_SUCCESS","LOAD_POSTS_ERROR","ADD_COMMENT_SUCCESS","ADD_COMMENT_ERROR","REMOVE_COMMENT_SUCCESS","REMOVE_COMMENT_ERROR","UPDATE_COMMENT_SUCCESS","UPDATE_COMMENT_ERROR","UPLOAD_IMAGES_SUCCESS","UPLOAD_IMAGES_ERROR","REPORT_SUCCESS","REPORT_ERROR","p2OE","r","jsx_runtime","react","asn_MoreOutlined","icon","tag","attrs","viewBox","focusable","children","name","theme","AntdIcon","icons_MoreOutlined_MoreOutlined","props","ref","assign","displayName","icons_MoreOutlined","asn_MessageOutlined","icons_MessageOutlined_MessageOutlined","icons_MessageOutlined","actionPost","moment_default","n","dynamic","dynamic_default","es","PostContainer","div","withConfig","componentId","styled_components_browser_esm","PostSettingModal","then","bind","loadableGenerated","webpack","modules","PostEditModal","CommentSettingModal","CommentEditModal","PostForm","Promise","all","CommentForm","Post","_ref","singleCommunity","communityUser","dispatch","_useSelector","state","post","mainPosts","hasMorePost","loadPostsLoading","updateCommentDone","_useState","editMode","setEditMode","_useState2","showPostSettingButton","setShowPostSettingButton","_useState3","CurrentPostSettingButton","setCurrentPostSettingButton","_useState4","currentModifyPost","setCurrentModifyPost","_useState5","showCommentSettingButton","setShowCommentSettingButton","_useState6","currentCommentSettingButton","setCurrentCommentSettingButton","_useState7","currentModifyComment","setCurrentModifyComment","_useState8","openPostCommentForm","setOpenPostCommentForm","_useState9","currentPostCommentForm","setCurrentPostCommentForm","postContainerRef","onClickPostSettingButton","postId","onClickCommentSettingButton","commentId","onTogglePostCommentForm","prev","onCloseSettingModal","postContainer","current","addEventListener","onScroll","removeEventListener","length","target","scrollTop","scrollHeight","offsetHeight","lastId","communityId","onClick","className","currentPostText","content","User","profilePhoto","src","concat","alt","nickname","createdAt","locale","format","postOwnerId","communityUserId","Images","style","cursor","marginRight","Comments","comment","currentCommentText","commentOwnerId"],"mappings":"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"},"name":"static/chunks/30.118ff130f5c91a2525cf.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[30],{\n\n/***/ \"7pp9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return addPostRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return removePostRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return updatePostRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return reportRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return loadPostsRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addCommentRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return updateCommentRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return removeCommentRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return uploadImagesRequestAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return removeImage; });\n/* harmony import */ var _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"hiaJ\");\n\nvar addPostRequestAction = function addPostRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].ADD_POST_REQUEST,\n    data: data\n  };\n};\nvar removePostRequestAction = function removePostRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].REMOVE_POST_REQUEST,\n    data: data\n  };\n};\nvar updatePostRequestAction = function updatePostRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].UPDATE_POST_REQUEST,\n    data: data\n  };\n};\nvar reportRequestAction = function reportRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].REPORT_REQUEST,\n    data: data\n  };\n};\nvar loadPostsRequestAction = function loadPostsRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].LOAD_POSTS_REQUEST,\n    data: data\n  };\n};\nvar addCommentRequestAction = function addCommentRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].ADD_COMMENT_REQUEST,\n    data: data\n  };\n};\nvar updateCommentRequestAction = function updateCommentRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].UPDATE_COMMENT_REQUEST,\n    data: data\n  };\n};\nvar removeCommentRequestAction = function removeCommentRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].REMOVE_COMMENT_REQUEST,\n    data: data\n  };\n};\nvar uploadImagesRequestAction = function uploadImagesRequestAction(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].UPLOAD_IMAGES_REQUEST,\n    data: data\n  };\n};\nvar removeImage = function removeImage(data) {\n  return {\n    type: _interfaces_post_postAction_interfaces__WEBPACK_IMPORTED_MODULE_0__[/* actionTypesPost */ \"a\"].REMOVE_IMAGE,\n    data: data\n  };\n};\n\n/***/ }),\n\n/***/ \"Ivi+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n//! moment.js locale configuration\n//! locale : Korean [ko]\n//! author : Kyungwook, Park : https://github.com/kyungw00k\n//! author : Jeeeyul Lee <jeeeyul@gmail.com>\n\n;(function (global, factory) {\n    true ? factory(__webpack_require__(\"wd/R\")) :\n   undefined\n}(this, (function (moment) { 'use strict';\n\n    //! moment.js locale configuration\n\n    var ko = moment.defineLocale('ko', {\n        months: '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'),\n        monthsShort: '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split(\n            '_'\n        ),\n        weekdays: '일요일_월요일_화요일_수요일_목요일_금요일_토요일'.split('_'),\n        weekdaysShort: '일_월_화_수_목_금_토'.split('_'),\n        weekdaysMin: '일_월_화_수_목_금_토'.split('_'),\n        longDateFormat: {\n            LT: 'A h:mm',\n            LTS: 'A h:mm:ss',\n            L: 'YYYY.MM.DD.',\n            LL: 'YYYY년 MMMM D일',\n            LLL: 'YYYY년 MMMM D일 A h:mm',\n            LLLL: 'YYYY년 MMMM D일 dddd A h:mm',\n            l: 'YYYY.MM.DD.',\n            ll: 'YYYY년 MMMM D일',\n            lll: 'YYYY년 MMMM D일 A h:mm',\n            llll: 'YYYY년 MMMM D일 dddd A h:mm',\n        },\n        calendar: {\n            sameDay: '오늘 LT',\n            nextDay: '내일 LT',\n            nextWeek: 'dddd LT',\n            lastDay: '어제 LT',\n            lastWeek: '지난주 dddd LT',\n            sameElse: 'L',\n        },\n        relativeTime: {\n            future: '%s 후',\n            past: '%s 전',\n            s: '몇 초',\n            ss: '%d초',\n            m: '1분',\n            mm: '%d분',\n            h: '한 시간',\n            hh: '%d시간',\n            d: '하루',\n            dd: '%d일',\n            M: '한 달',\n            MM: '%d달',\n            y: '일 년',\n            yy: '%d년',\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}(일|월|주)/,\n        ordinal: function (number, period) {\n            switch (period) {\n                case 'd':\n                case 'D':\n                case 'DDD':\n                    return number + '일';\n                case 'M':\n                    return number + '월';\n                case 'w':\n                case 'W':\n                    return number + '주';\n                default:\n                    return number;\n            }\n        },\n        meridiemParse: /오전|오후/,\n        isPM: function (token) {\n            return token === '오후';\n        },\n        meridiem: function (hour, minute, isUpper) {\n            return hour < 12 ? '오전' : '오후';\n        },\n    });\n\n    return ko;\n\n})));\n\n\n/***/ }),\n\n/***/ \"KEd5\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./ko\": \"Ivi+\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"KEd5\";\n\n/***/ }),\n\n/***/ \"hiaJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return actionTypesPost; });\nvar actionTypesPost = {\n  ADD_POST_REQUEST: 'ADD_POST_REQUEST',\n  ADD_POST_SUCCESS: 'ADD_POST_SUCCESS',\n  ADD_POST_ERROR: 'ADD_POST_ERROR',\n  REMOVE_POST_REQUEST: 'REMOVE_POST_REQUEST',\n  REMOVE_POST_SUCCESS: 'REMOVE_POST_SUCCESS',\n  REMOVE_POST_ERROR: 'REMOVE_POST_ERROR',\n  UPDATE_POST_REQUEST: 'UPDATE_POST_REQUEST',\n  UPDATE_POST_SUCCESS: 'UPDATE_POST_SUCCESS',\n  UPDATE_POST_ERROR: 'UPDATE_POST_ERROR',\n  LOAD_POSTS_REQUEST: 'LOAD_POSTS_REQUEST',\n  LOAD_POSTS_SUCCESS: 'LOAD_POSTS_SUCCESS',\n  LOAD_POSTS_ERROR: 'LOAD_POSTS_ERROR',\n  ADD_COMMENT_REQUEST: 'ADD_COMMENT_REQUEST',\n  ADD_COMMENT_SUCCESS: 'ADD_COMMENT_SUCCESS',\n  ADD_COMMENT_ERROR: 'ADD_COMMENT_ERROR',\n  REMOVE_COMMENT_REQUEST: 'REMOVE_COMMENT_REQUEST',\n  REMOVE_COMMENT_SUCCESS: 'REMOVE_COMMENT_SUCCESS',\n  REMOVE_COMMENT_ERROR: 'REMOVE_COMMENT_ERROR',\n  UPDATE_COMMENT_REQUEST: 'UPDATE_COMMENT_REQUEST',\n  UPDATE_COMMENT_SUCCESS: 'UPDATE_COMMENT_SUCCESS',\n  UPDATE_COMMENT_ERROR: 'UPDATE_COMMENT_ERROR',\n  UPLOAD_IMAGES_REQUEST: 'UPLOAD_IMAGES_REQUEST',\n  UPLOAD_IMAGES_SUCCESS: 'UPLOAD_IMAGES_SUCCESS',\n  UPLOAD_IMAGES_ERROR: 'UPLOAD_IMAGES_ERROR',\n  REMOVE_IMAGE: 'REMOVE_IMAGE',\n  REPORT_REQUEST: 'REPORT_REQUEST',\n  REPORT_SUCCESS: 'REPORT_SUCCESS',\n  REPORT_ERROR: 'REPORT_ERROR'\n};\n\n/***/ }),\n\n/***/ \"p2OE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/MoreOutlined.js\n// This icon file is generated automatically.\nvar MoreOutlined_MoreOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z\" } }] }, \"name\": \"more\", \"theme\": \"outlined\" };\n/* harmony default export */ var asn_MoreOutlined = (MoreOutlined_MoreOutlined);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 4 modules\nvar AntdIcon = __webpack_require__(\"6VBw\");\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/MoreOutlined.js\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\n\n\n\nvar icons_MoreOutlined_MoreOutlined = function MoreOutlined(props, ref) {\n  return /*#__PURE__*/react[\"createElement\"](AntdIcon[\"a\" /* default */], Object.assign({}, props, {\n    ref: ref,\n    icon: asn_MoreOutlined\n  }));\n};\n\nicons_MoreOutlined_MoreOutlined.displayName = 'MoreOutlined';\n/* harmony default export */ var icons_MoreOutlined = (/*#__PURE__*/react[\"forwardRef\"](icons_MoreOutlined_MoreOutlined));\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/MessageOutlined.js\n// This icon file is generated automatically.\nvar MessageOutlined_MessageOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z\" } }] }, \"name\": \"message\", \"theme\": \"outlined\" };\n/* harmony default export */ var asn_MessageOutlined = (MessageOutlined_MessageOutlined);\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/MessageOutlined.js\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\n\n\n\nvar icons_MessageOutlined_MessageOutlined = function MessageOutlined(props, ref) {\n  return /*#__PURE__*/react[\"createElement\"](AntdIcon[\"a\" /* default */], Object.assign({}, props, {\n    ref: ref,\n    icon: asn_MessageOutlined\n  }));\n};\n\nicons_MessageOutlined_MessageOutlined.displayName = 'MessageOutlined';\n/* harmony default export */ var icons_MessageOutlined = (/*#__PURE__*/react[\"forwardRef\"](icons_MessageOutlined_MessageOutlined));\n// EXTERNAL MODULE: ./actions/actionPost.ts\nvar actionPost = __webpack_require__(\"7pp9\");\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(\"wd/R\");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ./node_modules/next/dynamic.js\nvar dynamic = __webpack_require__(\"Vvt1\");\nvar dynamic_default = /*#__PURE__*/__webpack_require__.n(dynamic);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// CONCATENATED MODULE: ./components/CommunityBody/Post/styles.tsx\n\nvar PostContainer = /*#__PURE__*/styled_components_browser_esm[\"b\" /* default */].div.withConfig({\n  displayName: \"styles__PostContainer\",\n  componentId: \"glwfg8-0\"\n})([\"overflow:auto;height:100%;backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background:rgba(0,0,0,0.4);.post-form-container{background:rgba(255,255,255,0.4);padding:1rem;margin-bottom:2rem;}.visitor-post{height:100%;display:flex;justify-content:center;align-items:center;}.header{position:relative;display:flex;justify-content:space-between;.header-left{display:flex;align-items:center;.left-profile-image{width:24px;height:24px;border-radius:50%;object-fit:cover;margin-right:8px;}.left-fake-image{width:24px;height:24px;border-radius:50%;margin-right:8px;background:rgba(0,0,0,0.5);text-align:center;}.left-nickname{font-weight:bold;}}.header-right{display:flex;align-items:center;position:relative;.right-day{font-size:0.75rem;}.right-buttons{margin-left:8px;font-size:16px;cursor:pointer;:hover{color:rgba(0,0,0,0.4);}}}}.post-body-container{position:relative;background:rgba(255,255,255,0.4);:not(:last-child){margin-bottom:1rem;}.post-body-header{border-bottom:1px solid rgba(0,0,0,0.2);padding:0.5rem;}.post-image{width:100%;object-fit:cover;}.post-text{padding:1rem 0.5rem;white-space:pre;}.post-comment-info{border-top:1px solid rgba(0,0,0,0.2);padding:0.5rem;}.post-comment-container{position:relative;margin:0.5rem 0;padding:0.5rem;background:linear-gradient( 120deg,rgba(69,104,220,0.7),rgba(176,106,179,0.7) );.comment-header{}.comment-text{margin-top:0.5rem;text-align:justify;white-space:pre;}}.post-comment-form-container{text-align:end;}}\"]);\n// CONCATENATED MODULE: ./components/CommunityBody/Post/index.tsx\n\n\n\n\n\n\n\n\n\n\nvar PostSettingModal = dynamic_default()(function () {\n  return __webpack_require__.e(/* import() */ 50).then(__webpack_require__.bind(null, \"75CV\"));\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [/*require.resolve*/(\"75CV\")];\n    },\n    modules: ['components/Modals/PostSettingModal']\n  }\n});\nvar PostEditModal = dynamic_default()(function () {\n  return __webpack_require__.e(/* import() */ 34).then(__webpack_require__.bind(null, \"XmWp\"));\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [/*require.resolve*/(\"XmWp\")];\n    },\n    modules: ['components/Modals/PostEditModal']\n  }\n});\nvar CommentSettingModal = dynamic_default()(function () {\n  return __webpack_require__.e(/* import() */ 47).then(__webpack_require__.bind(null, \"/i6i\"));\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [/*require.resolve*/(\"/i6i\")];\n    },\n    modules: ['components/Modals/CommentSettingModal']\n  }\n});\nvar CommentEditModal = dynamic_default()(function () {\n  return __webpack_require__.e(/* import() */ 32).then(__webpack_require__.bind(null, \"g1Iv\"));\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [/*require.resolve*/(\"g1Iv\")];\n    },\n    modules: ['components/Modals/CommentEditModal']\n  }\n});\nvar PostForm = dynamic_default()(function () {\n  return Promise.all(/* import() */[__webpack_require__.e(5), __webpack_require__.e(1), __webpack_require__.e(51)]).then(__webpack_require__.bind(null, \"MNTT\"));\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [/*require.resolve*/(\"MNTT\")];\n    },\n    modules: ['components/PostForm']\n  }\n});\nvar CommentForm = dynamic_default()(function () {\n  return Promise.all(/* import() */[__webpack_require__.e(5), __webpack_require__.e(1), __webpack_require__.e(42)]).then(__webpack_require__.bind(null, \"gwkI\"));\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [/*require.resolve*/(\"gwkI\")];\n    },\n    modules: ['components/CommentForm']\n  }\n});\n\nfunction Post(_ref) {\n  var singleCommunity = _ref.singleCommunity,\n      communityUser = _ref.communityUser;\n  var dispatch = Object(es[\"b\" /* useDispatch */])();\n\n  var _useSelector = Object(es[\"c\" /* useSelector */])(function (state) {\n    return state.post;\n  }),\n      mainPosts = _useSelector.mainPosts,\n      hasMorePost = _useSelector.hasMorePost,\n      loadPostsLoading = _useSelector.loadPostsLoading,\n      updateCommentDone = _useSelector.updateCommentDone;\n\n  var _useState = Object(react[\"useState\"])(false),\n      editMode = _useState[0],\n      setEditMode = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])(false),\n      showPostSettingButton = _useState2[0],\n      setShowPostSettingButton = _useState2[1]; // 포스트설정 모달 보여주기\n\n\n  var _useState3 = Object(react[\"useState\"])(0),\n      CurrentPostSettingButton = _useState3[0],\n      setCurrentPostSettingButton = _useState3[1]; // 현재 보여지고 있는 포스트설정 모달\n\n\n  var _useState4 = Object(react[\"useState\"])(0),\n      currentModifyPost = _useState4[0],\n      setCurrentModifyPost = _useState4[1]; // 현재 수정중인 포스트\n\n\n  var _useState5 = Object(react[\"useState\"])(false),\n      showCommentSettingButton = _useState5[0],\n      setShowCommentSettingButton = _useState5[1];\n\n  var _useState6 = Object(react[\"useState\"])(0),\n      currentCommentSettingButton = _useState6[0],\n      setCurrentCommentSettingButton = _useState6[1];\n\n  var _useState7 = Object(react[\"useState\"])(0),\n      currentModifyComment = _useState7[0],\n      setCurrentModifyComment = _useState7[1];\n\n  var _useState8 = Object(react[\"useState\"])(false),\n      openPostCommentForm = _useState8[0],\n      setOpenPostCommentForm = _useState8[1];\n\n  var _useState9 = Object(react[\"useState\"])(0),\n      currentPostCommentForm = _useState9[0],\n      setCurrentPostCommentForm = _useState9[1];\n\n  var postContainerRef = Object(react[\"useRef\"])(null);\n  var onClickPostSettingButton = Object(react[\"useCallback\"])(function (postId) {\n    return function () {\n      setCurrentPostSettingButton(postId);\n      setShowPostSettingButton(true);\n    };\n  }, []);\n  var onClickCommentSettingButton = Object(react[\"useCallback\"])(function (commentId) {\n    return function () {\n      setCurrentCommentSettingButton(commentId);\n      setShowCommentSettingButton(true);\n    };\n  }, []);\n  var onTogglePostCommentForm = Object(react[\"useCallback\"])(function (postId) {\n    return function () {\n      setCurrentPostCommentForm(postId);\n      setOpenPostCommentForm(function (prev) {\n        return !prev;\n      });\n    };\n  }, []);\n  var onCloseSettingModal = Object(react[\"useCallback\"])(function () {\n    if (showPostSettingButton || showCommentSettingButton) {\n      setShowPostSettingButton(false);\n      setShowCommentSettingButton(false);\n    }\n  }, [showPostSettingButton, showCommentSettingButton]);\n  Object(react[\"useEffect\"])(function () {\n    if (updateCommentDone) {\n      setEditMode(false);\n    }\n  }, [updateCommentDone]);\n  Object(react[\"useEffect\"])(function () {\n    var postContainer = postContainerRef.current;\n    if (!postContainer) return;\n\n    function onScroll(e) {\n      if (communityUser && mainPosts.length) {\n        if (e.target.scrollTop >= e.target.scrollHeight - e.target.offsetHeight - 300) {\n          if (hasMorePost && !loadPostsLoading) {\n            var lastId = mainPosts[mainPosts.length - 1].id;\n            dispatch(Object(actionPost[\"c\" /* loadPostsRequestAction */])({\n              communityId: singleCommunity.id,\n              postId: lastId\n            }));\n          }\n        }\n      }\n    }\n\n    postContainer.addEventListener('scroll', onScroll);\n    return function () {\n      return postContainer.removeEventListener('scroll', onScroll);\n    };\n  }, [communityUser, mainPosts, hasMorePost, loadPostsLoading, singleCommunity, postContainerRef.current]);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PostContainer, {\n    onClick: onCloseSettingModal,\n    ref: postContainerRef,\n    children: communityUser ? /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        className: \"post-form-container\",\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PostForm, {})\n      }), mainPosts.length ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"], {\n        children: mainPosts.map(function (post) {\n          return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \"post-body-container\",\n            children: [editMode && post.id === currentModifyPost && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PostEditModal, {\n              setEditMode: setEditMode,\n              setCurrentModifyPost: setCurrentModifyPost,\n              currentPostText: post.content,\n              postId: post.id,\n              communityId: singleCommunity.id\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"header post-body-header\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                className: \"header-left\",\n                children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                  children: post.User.profilePhoto ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\", {\n                    className: \"left-profile-image\",\n                    src: \"\".concat(\"http://localhost:3065\", \"/\").concat(post.User.profilePhoto),\n                    alt: \"profile image\"\n                  }) : /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                    className: \"left-fake-image\",\n                    children: post.User.nickname[0]\n                  })\n                }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                  className: \"left-nickname\",\n                  children: post.User.nickname\n                })]\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                className: \"header-right\",\n                children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                  className: \"right-day\",\n                  children: moment_default()(post.createdAt).locale('ko').format('LLL')\n                }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                  className: \"right-buttons\",\n                  onClick: onClickPostSettingButton(post.id),\n                  children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(icons_MoreOutlined, {})\n                }), showPostSettingButton && post.id === CurrentPostSettingButton && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PostSettingModal, {\n                  setCurrentModifyPost: setCurrentModifyPost,\n                  setEditMode: setEditMode,\n                  postId: post.id,\n                  communityId: singleCommunity.id,\n                  postOwnerId: post.User.id,\n                  communityUserId: communityUser.id,\n                  content: post.content\n                })]\n              })]\n            }), post.Images.length ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\", {\n              src: \"\".concat(\"http://localhost:3065\", \"/\").concat(post.Images[0].src),\n              alt: \"image\",\n              className: \"post-image\"\n            }) : null, /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n              className: \"post-text\",\n              children: post.content\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"post-comment-info\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                onClick: onTogglePostCommentForm(post.id),\n                style: {\n                  cursor: 'pointer'\n                },\n                children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                  style: {\n                    marginRight: '4px'\n                  },\n                  children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(icons_MessageOutlined, {})\n                }), post.Comments.length ? \"\\uB313\\uAE00 \".concat(post.Comments.length, \"\\uAC1C \\uBAA8\\uB450\\uBCF4\\uAE30\") : '댓글 작성하기']\n              }), openPostCommentForm && currentPostCommentForm === post.id && /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n                children: [post.Comments && post.Comments.map(function (comment) {\n                  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                    className: \"post-comment-container\",\n                    children: [editMode && comment.id === currentModifyComment && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CommentEditModal, {\n                      setEditMode: setEditMode,\n                      setCurrentModifyComment: setCurrentModifyComment,\n                      currentCommentText: comment.content,\n                      postId: post.id,\n                      commentId: comment.id\n                    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                      className: \"header comment-header\",\n                      children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                        className: \"header-left\",\n                        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                          children: comment.User.profilePhoto ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\", {\n                            className: \"left-profile-image\",\n                            src: \"\".concat(\"http://localhost:3065\", \"/\").concat(comment.User.profilePhoto),\n                            alt: \"profile image\"\n                          }) : /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                            className: \"left-fake-image\",\n                            children: comment.User.nickname[0]\n                          })\n                        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                          className: \"left-nickname\",\n                          children: comment.User.nickname\n                        })]\n                      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                        className: \"header-right\",\n                        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                          className: \"right-day\",\n                          children: moment_default()(comment.createdAt).locale('ko').format('LLL')\n                        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                          className: \"right-buttons\",\n                          onClick: onClickCommentSettingButton(comment.id),\n                          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(icons_MoreOutlined, {})\n                        })]\n                      }), showCommentSettingButton && comment.id === currentCommentSettingButton && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CommentSettingModal, {\n                        setCurrentModifyComment: setCurrentModifyComment,\n                        setEditMode: setEditMode,\n                        postId: post.id,\n                        commentId: comment.id,\n                        commentOwnerId: comment.User.id,\n                        communityUserId: communityUser.id,\n                        content: comment.content\n                      })]\n                    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                      className: \"comment-text\",\n                      children: comment.content\n                    })]\n                  }, comment.id);\n                }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                  className: \"post-comment-form-container\",\n                  children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CommentForm, {\n                    postId: post.id\n                  })\n                })]\n              })]\n            })]\n          }, post.id);\n        })\n      }) : null]\n    }) : /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: \"visitor-post\",\n      children: \"\\uCEE4\\uBBA4\\uB2C8\\uD2F0\\uC720\\uC800\\uB9CC \\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"\n    })\n  });\n}\n\n/* harmony default export */ var CommunityBody_Post = __webpack_exports__[\"default\"] = (/*#__PURE__*/Object(react[\"memo\"])(Post));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/Users/wlsdn/Desktop/next/community/front/actions/actionPost.ts","C:\\Users\\wlsdn\\Desktop\\next\\community\\front\\node_modules\\moment\\locale\\ko.js","C:\\Users\\wlsdn\\Desktop\\next\\community\\front\\node_modules\\moment\\locale sync /^\\.\\/ko$/","C:/Users/wlsdn/Desktop/next/community/front/interfaces/post/postAction.interfaces.ts","C:\\Users\\wlsdn\\Desktop\\next\\community\\front\\node_modules\\@ant-design\\icons-svg\\es\\asn\\MoreOutlined.js","C:\\Users\\wlsdn\\Desktop\\next\\community\\front\\node_modules\\@ant-design\\icons\\es\\icons\\MoreOutlined.js","C:\\Users\\wlsdn\\Desktop\\next\\community\\front\\node_modules\\@ant-design\\icons-svg\\es\\asn\\MessageOutlined.js","C:\\Users\\wlsdn\\Desktop\\next\\community\\front\\node_modules\\@ant-design\\icons\\es\\icons\\MessageOutlined.js","C:/Users/wlsdn/Desktop/next/community/front/components/CommunityBody/Post/styles.tsx","C:/Users/wlsdn/Desktop/next/community/front/components/CommunityBody/Post/index.tsx"],"names":["addPostRequestAction","data","type","actionTypesPost","ADD_POST_REQUEST","removePostRequestAction","REMOVE_POST_REQUEST","updatePostRequestAction","UPDATE_POST_REQUEST","reportRequestAction","REPORT_REQUEST","loadPostsRequestAction","LOAD_POSTS_REQUEST","addCommentRequestAction","ADD_COMMENT_REQUEST","updateCommentRequestAction","UPDATE_COMMENT_REQUEST","removeCommentRequestAction","REMOVE_COMMENT_REQUEST","uploadImagesRequestAction","UPLOAD_IMAGES_REQUEST","removeImage","REMOVE_IMAGE","ADD_POST_SUCCESS","ADD_POST_ERROR","REMOVE_POST_SUCCESS","REMOVE_POST_ERROR","UPDATE_POST_SUCCESS","UPDATE_POST_ERROR","LOAD_POSTS_SUCCESS","LOAD_POSTS_ERROR","ADD_COMMENT_SUCCESS","ADD_COMMENT_ERROR","REMOVE_COMMENT_SUCCESS","REMOVE_COMMENT_ERROR","UPDATE_COMMENT_SUCCESS","UPDATE_COMMENT_ERROR","UPLOAD_IMAGES_SUCCESS","UPLOAD_IMAGES_ERROR","REPORT_SUCCESS","REPORT_ERROR","PostContainer","styled","div","PostSettingModal","dynamic","PostEditModal","CommentSettingModal","CommentEditModal","PostForm","CommentForm","Post","singleCommunity","communityUser","dispatch","useDispatch","useSelector","state","post","mainPosts","hasMorePost","loadPostsLoading","updateCommentDone","useState","editMode","setEditMode","showPostSettingButton","setShowPostSettingButton","CurrentPostSettingButton","setCurrentPostSettingButton","currentModifyPost","setCurrentModifyPost","showCommentSettingButton","setShowCommentSettingButton","currentCommentSettingButton","setCurrentCommentSettingButton","currentModifyComment","setCurrentModifyComment","openPostCommentForm","setOpenPostCommentForm","currentPostCommentForm","setCurrentPostCommentForm","postContainerRef","useRef","onClickPostSettingButton","useCallback","postId","onClickCommentSettingButton","commentId","onTogglePostCommentForm","prev","onCloseSettingModal","useEffect","postContainer","current","onScroll","e","length","target","scrollTop","scrollHeight","offsetHeight","lastId","id","communityId","addEventListener","removeEventListener","map","content","User","profilePhoto","process","nickname","moment","createdAt","locale","format","Images","src","cursor","marginRight","Comments","comment","memo"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBO,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,IAAD,EAAwC;AAC1E,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACC,gBADjB;AAELH,QAAI,EAAJA;AAFK,GAAP;AAID,CALM;AAMA,IAAMI,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACJ,IAAD,EAGb;AACxB,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACG,mBADjB;AAELL,QAAI,EAAJA;AAFK,GAAP;AAID,CARM;AASA,IAAMM,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACN,IAAD,EAIb;AACxB,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACK,mBADjB;AAELP,QAAI,EAAJA;AAFK,GAAP;AAID,CATM;AAUA,IAAMQ,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACR,IAAD,EAAuC;AACxE,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACO,cADjB;AAELT,QAAI,EAAJA;AAFK,GAAP;AAID,CALM;AAMA,IAAMU,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACV,IAAD,EAGb;AACvB,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACS,kBADjB;AAELX,QAAI,EAAJA;AAFK,GAAP;AAID,CARM;AASA,IAAMY,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACZ,IAAD,EAA2C;AAChF,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACW,mBADjB;AAELb,QAAI,EAAJA;AAFK,GAAP;AAID,CALM;AAMA,IAAMc,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACd,IAAD,EAIb;AAC3B,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACa,sBADjB;AAELf,QAAI,EAAJA;AAFK,GAAP;AAID,CATM;AAUA,IAAMgB,0BAA0B,GAAG,SAA7BA,0BAA6B,CAAChB,IAAD,EAGb;AAC3B,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACe,sBADjB;AAELjB,QAAI,EAAJA;AAFK,GAAP;AAID,CARM;AASA,IAAMkB,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAClB,IAAD,EAA0C;AACjF,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACiB,qBADjB;AAELnB,QAAI,EAAJA;AAFK,GAAP;AAID,CALM;AAMA,IAAMoB,WAAW,GAAG,SAAdA,WAAc,CAACpB,IAAD,EAAgC;AACzD,SAAO;AACLC,QAAI,EAAEC,8FAAe,CAACmB,YADjB;AAELrB,QAAI,EAAJA;AAFK,GAAP;AAID,CALM,C;;;;;;;ACxFP;AACA;AACA;AACA;;AAEA,CAAC;AACD,GAAG,KACoC,WAAW,mBAAO,CAAC,MAAW;AACrE,GAAG,SACsB;AACzB,CAAC,2BAA2B;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;ACrFD;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;ACpBA;AAAO,IAAME,eAAe,GAAG;AAC7BC,kBAAgB,EAAE,kBADW;AAE7BmB,kBAAgB,EAAE,kBAFW;AAG7BC,gBAAc,EAAE,gBAHa;AAI7BlB,qBAAmB,EAAE,qBAJQ;AAK7BmB,qBAAmB,EAAE,qBALQ;AAM7BC,mBAAiB,EAAE,mBANU;AAO7BlB,qBAAmB,EAAE,qBAPQ;AAQ7BmB,qBAAmB,EAAE,qBARQ;AAS7BC,mBAAiB,EAAE,mBATU;AAU7BhB,oBAAkB,EAAE,oBAVS;AAW7BiB,oBAAkB,EAAE,oB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","file":"x","sourcesContent":["import {\n  IRemoveImage,\n  CommentData,\n  AddPostData,\n  IReportData,\n  actionTypesPost,\n  IAddPostRequest,\n  IRemovePostRequest,\n  IUpdatePostRequest,\n  IReportRequest,\n  ILoadPostsRequest,\n  IAddCommentRequest,\n  IRemoveCommentRequest,\n  IUpdateCommentRequest,\n  IUploadImagesRequest,\n} from '../interfaces/post/postAction.interfaces';\n\nexport const addPostRequestAction = (data: AddPostData): IAddPostRequest => {\n  return {\n    type: actionTypesPost.ADD_POST_REQUEST,\n    data,\n  };\n};\nexport const removePostRequestAction = (data: {\n  postId: number;\n  communityId: number;\n}): IRemovePostRequest => {\n  return {\n    type: actionTypesPost.REMOVE_POST_REQUEST,\n    data,\n  };\n};\nexport const updatePostRequestAction = (data: {\n  postId: number;\n  communityId: number;\n  content: string;\n}): IUpdatePostRequest => {\n  return {\n    type: actionTypesPost.UPDATE_POST_REQUEST,\n    data,\n  };\n};\nexport const reportRequestAction = (data: IReportData): IReportRequest => {\n  return {\n    type: actionTypesPost.REPORT_REQUEST,\n    data,\n  };\n};\nexport const loadPostsRequestAction = (data: {\n  communityId: number;\n  postId: number;\n}): ILoadPostsRequest => {\n  return {\n    type: actionTypesPost.LOAD_POSTS_REQUEST,\n    data,\n  };\n};\nexport const addCommentRequestAction = (data: CommentData): IAddCommentRequest => {\n  return {\n    type: actionTypesPost.ADD_COMMENT_REQUEST,\n    data,\n  };\n};\nexport const updateCommentRequestAction = (data: {\n  commentId: number;\n  postId: number;\n  content: string;\n}): IUpdateCommentRequest => {\n  return {\n    type: actionTypesPost.UPDATE_COMMENT_REQUEST,\n    data,\n  };\n};\nexport const removeCommentRequestAction = (data: {\n  commentId: number;\n  postId: number;\n}): IRemoveCommentRequest => {\n  return {\n    type: actionTypesPost.REMOVE_COMMENT_REQUEST,\n    data,\n  };\n};\nexport const uploadImagesRequestAction = (data: FormData): IUploadImagesRequest => {\n  return {\n    type: actionTypesPost.UPLOAD_IMAGES_REQUEST,\n    data,\n  };\n};\nexport const removeImage = (data: number): IRemoveImage => {\n  return {\n    type: actionTypesPost.REMOVE_IMAGE,\n    data,\n  };\n};\n","//! moment.js locale configuration\n//! locale : Korean [ko]\n//! author : Kyungwook, Park : https://github.com/kyungw00k\n//! author : Jeeeyul Lee <jeeeyul@gmail.com>\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n    //! moment.js locale configuration\n\n    var ko = moment.defineLocale('ko', {\n        months: '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'),\n        monthsShort: '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split(\n            '_'\n        ),\n        weekdays: '일요일_월요일_화요일_수요일_목요일_금요일_토요일'.split('_'),\n        weekdaysShort: '일_월_화_수_목_금_토'.split('_'),\n        weekdaysMin: '일_월_화_수_목_금_토'.split('_'),\n        longDateFormat: {\n            LT: 'A h:mm',\n            LTS: 'A h:mm:ss',\n            L: 'YYYY.MM.DD.',\n            LL: 'YYYY년 MMMM D일',\n            LLL: 'YYYY년 MMMM D일 A h:mm',\n            LLLL: 'YYYY년 MMMM D일 dddd A h:mm',\n            l: 'YYYY.MM.DD.',\n            ll: 'YYYY년 MMMM D일',\n            lll: 'YYYY년 MMMM D일 A h:mm',\n            llll: 'YYYY년 MMMM D일 dddd A h:mm',\n        },\n        calendar: {\n            sameDay: '오늘 LT',\n            nextDay: '내일 LT',\n            nextWeek: 'dddd LT',\n            lastDay: '어제 LT',\n            lastWeek: '지난주 dddd LT',\n            sameElse: 'L',\n        },\n        relativeTime: {\n            future: '%s 후',\n            past: '%s 전',\n            s: '몇 초',\n            ss: '%d초',\n            m: '1분',\n            mm: '%d분',\n            h: '한 시간',\n            hh: '%d시간',\n            d: '하루',\n            dd: '%d일',\n            M: '한 달',\n            MM: '%d달',\n            y: '일 년',\n            yy: '%d년',\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}(일|월|주)/,\n        ordinal: function (number, period) {\n            switch (period) {\n                case 'd':\n                case 'D':\n                case 'DDD':\n                    return number + '일';\n                case 'M':\n                    return number + '월';\n                case 'w':\n                case 'W':\n                    return number + '주';\n                default:\n                    return number;\n            }\n        },\n        meridiemParse: /오전|오후/,\n        isPM: function (token) {\n            return token === '오후';\n        },\n        meridiem: function (hour, minute, isUpper) {\n            return hour < 12 ? '오전' : '오후';\n        },\n    });\n\n    return ko;\n\n})));\n","var map = {\n\t\"./ko\": \"Ivi+\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"KEd5\";","import { IComment, IPost } from '../db';\n\nexport const actionTypesPost = {\n  ADD_POST_REQUEST: 'ADD_POST_REQUEST',\n  ADD_POST_SUCCESS: 'ADD_POST_SUCCESS',\n  ADD_POST_ERROR: 'ADD_POST_ERROR',\n  REMOVE_POST_REQUEST: 'REMOVE_POST_REQUEST',\n  REMOVE_POST_SUCCESS: 'REMOVE_POST_SUCCESS',\n  REMOVE_POST_ERROR: 'REMOVE_POST_ERROR',\n  UPDATE_POST_REQUEST: 'UPDATE_POST_REQUEST',\n  UPDATE_POST_SUCCESS: 'UPDATE_POST_SUCCESS',\n  UPDATE_POST_ERROR: 'UPDATE_POST_ERROR',\n  LOAD_POSTS_REQUEST: 'LOAD_POSTS_REQUEST',\n  LOAD_POSTS_SUCCESS: 'LOAD_POSTS_SUCCESS',\n  LOAD_POSTS_ERROR: 'LOAD_POSTS_ERROR',\n  ADD_COMMENT_REQUEST: 'ADD_COMMENT_REQUEST',\n  ADD_COMMENT_SUCCESS: 'ADD_COMMENT_SUCCESS',\n  ADD_COMMENT_ERROR: 'ADD_COMMENT_ERROR',\n  REMOVE_COMMENT_REQUEST: 'REMOVE_COMMENT_REQUEST',\n  REMOVE_COMMENT_SUCCESS: 'REMOVE_COMMENT_SUCCESS',\n  REMOVE_COMMENT_ERROR: 'REMOVE_COMMENT_ERROR',\n  UPDATE_COMMENT_REQUEST: 'UPDATE_COMMENT_REQUEST',\n  UPDATE_COMMENT_SUCCESS: 'UPDATE_COMMENT_SUCCESS',\n  UPDATE_COMMENT_ERROR: 'UPDATE_COMMENT_ERROR',\n  UPLOAD_IMAGES_REQUEST: 'UPLOAD_IMAGES_REQUEST',\n  UPLOAD_IMAGES_SUCCESS: 'UPLOAD_IMAGES_SUCCESS',\n  UPLOAD_IMAGES_ERROR: 'UPLOAD_IMAGES_ERROR',\n  REMOVE_IMAGE: 'REMOVE_IMAGE',\n  REPORT_REQUEST: 'REPORT_REQUEST',\n  REPORT_SUCCESS: 'REPORT_SUCCESS',\n  REPORT_ERROR: 'REPORT_ERROR',\n} as const;\n\nexport interface AddPostData {\n  formData: FormData;\n  communityId: number;\n}\nexport interface IAddPostRequest {\n  type: typeof actionTypesPost.ADD_POST_REQUEST;\n  data: AddPostData;\n}\nexport interface IAddPostSuccess {\n  type: typeof actionTypesPost.ADD_POST_SUCCESS;\n  data: IPost;\n}\nexport interface IAddPostError {\n  type: typeof actionTypesPost.ADD_POST_ERROR;\n  error: Error;\n}\nexport interface IRemovePostRequest {\n  type: typeof actionTypesPost.REMOVE_POST_REQUEST;\n  data: { postId: number; communityId: number };\n}\nexport interface IRemovePostSuccess {\n  type: typeof actionTypesPost.REMOVE_POST_SUCCESS;\n  data: { postId: number };\n}\nexport interface IRemovePostError {\n  type: typeof actionTypesPost.REMOVE_POST_ERROR;\n  error: Error;\n}\nexport interface IUpdatePostRequest {\n  type: typeof actionTypesPost.UPDATE_POST_REQUEST;\n  data: { postId: number; communityId: number; content: string };\n}\nexport interface IUpdatePostSuccess {\n  type: typeof actionTypesPost.UPDATE_POST_SUCCESS;\n  data: { postId: number; content: string };\n}\nexport interface IUpdatePostError {\n  type: typeof actionTypesPost.UPDATE_POST_ERROR;\n  error: Error;\n}\nexport interface IReportData {\n  contentId: number;\n  reporter: number;\n  reportedPerson: number;\n  reason: string;\n  content: string;\n  variety: string;\n}\nexport interface IReportRequest {\n  type: typeof actionTypesPost.REPORT_REQUEST;\n  data: IReportData;\n}\nexport interface IReportSuccess {\n  type: typeof actionTypesPost.REPORT_SUCCESS;\n}\nexport interface IReportError {\n  type: typeof actionTypesPost.REPORT_ERROR;\n  error: Error;\n}\nexport interface ILoadPostsRequest {\n  type: typeof actionTypesPost.LOAD_POSTS_REQUEST;\n  data: { communityId: number; postId: number };\n}\nexport interface ILoadPostsSuccess {\n  type: typeof actionTypesPost.LOAD_POSTS_SUCCESS;\n  data: IPost[];\n}\nexport interface ILoadPostsError {\n  type: typeof actionTypesPost.LOAD_POSTS_ERROR;\n  error: Error;\n}\nexport interface CommentData {\n  comment: string;\n  postId: number;\n}\nexport interface IAddCommentRequest {\n  type: typeof actionTypesPost.ADD_COMMENT_REQUEST;\n  data: CommentData;\n}\nexport interface IAddCommentSuccess {\n  type: typeof actionTypesPost.ADD_COMMENT_SUCCESS;\n  data: IComment;\n}\nexport interface IAddCommentError {\n  type: typeof actionTypesPost.ADD_COMMENT_ERROR;\n  error: Error;\n}\nexport interface IUpdateCommentRequest {\n  type: typeof actionTypesPost.UPDATE_COMMENT_REQUEST;\n  data: { commentId: number; postId: number; content: string };\n}\nexport interface IUpdateCommentSuccess {\n  type: typeof actionTypesPost.UPDATE_COMMENT_SUCCESS;\n  data: { commentId: number; postId: number; content: string };\n}\nexport interface IUpdateCommentError {\n  type: typeof actionTypesPost.UPDATE_COMMENT_ERROR;\n  error: Error;\n}\nexport interface IRemoveCommentRequest {\n  type: typeof actionTypesPost.REMOVE_COMMENT_REQUEST;\n  data: { commentId: number; postId: number };\n}\nexport interface IRemoveCommentSuccess {\n  type: typeof actionTypesPost.REMOVE_COMMENT_SUCCESS;\n  data: { commentId: number; postId: number };\n}\nexport interface IRemoveCommentError {\n  type: typeof actionTypesPost.REMOVE_COMMENT_ERROR;\n  error: Error;\n}\nexport interface IUploadImagesRequest {\n  type: typeof actionTypesPost.UPLOAD_IMAGES_REQUEST;\n  data: FormData;\n}\nexport interface IUploadImagesSuccess {\n  type: typeof actionTypesPost.UPLOAD_IMAGES_SUCCESS;\n  data: string[];\n}\nexport interface IUploadImagesError {\n  type: typeof actionTypesPost.UPLOAD_IMAGES_ERROR;\n  error: Error;\n}\nexport interface IRemoveImage {\n  type: typeof actionTypesPost.REMOVE_IMAGE;\n  data: number;\n}\n\nexport type ActionsPost =\n  | IAddPostRequest\n  | IAddPostSuccess\n  | IAddPostError\n  | IRemovePostRequest\n  | IRemovePostSuccess\n  | IRemovePostError\n  | IUpdatePostRequest\n  | IUpdatePostSuccess\n  | IUpdatePostError\n  | IReportRequest\n  | IReportSuccess\n  | IReportError\n  | ILoadPostsRequest\n  | ILoadPostsSuccess\n  | ILoadPostsError\n  | IAddCommentRequest\n  | IAddCommentSuccess\n  | IAddCommentError\n  | IUpdateCommentRequest\n  | IUpdateCommentSuccess\n  | IUpdateCommentError\n  | IRemoveCommentRequest\n  | IRemoveCommentSuccess\n  | IRemoveCommentError\n  | IUploadImagesRequest\n  | IUploadImagesSuccess\n  | IUploadImagesError\n  | IRemoveImage;\n","// This icon file is generated automatically.\nvar MoreOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z\" } }] }, \"name\": \"more\", \"theme\": \"outlined\" };\nexport default MoreOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MoreOutlinedSvg from \"@ant-design/icons-svg/es/asn/MoreOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MoreOutlined = function MoreOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MoreOutlinedSvg\n  }));\n};\n\nMoreOutlined.displayName = 'MoreOutlined';\nexport default /*#__PURE__*/React.forwardRef(MoreOutlined);","// This icon file is generated automatically.\nvar MessageOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z\" } }] }, \"name\": \"message\", \"theme\": \"outlined\" };\nexport default MessageOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MessageOutlinedSvg from \"@ant-design/icons-svg/es/asn/MessageOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MessageOutlined = function MessageOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MessageOutlinedSvg\n  }));\n};\n\nMessageOutlined.displayName = 'MessageOutlined';\nexport default /*#__PURE__*/React.forwardRef(MessageOutlined);","import styled from 'styled-components';\r\n\r\nexport const PostContainer = styled.div`\r\n  overflow: auto;\r\n  height: 100%;\r\n  backdrop-filter: blur(2px);\r\n  -webkit-backdrop-filter: blur(2px);\r\n  background: rgba(0, 0, 0, 0.4);\r\n\r\n  .post-form-container {\r\n    background: rgba(255, 255, 255, 0.4);\r\n    padding: 1rem;\r\n    margin-bottom: 2rem;\r\n  }\r\n\r\n  .visitor-post {\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .header {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    .header-left {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .left-profile-image {\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        object-fit: cover;\r\n        margin-right: 8px;\r\n      }\r\n      .left-fake-image {\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        margin-right: 8px;\r\n        background: rgba(0, 0, 0, 0.5);\r\n        text-align: center;\r\n      }\r\n      .left-nickname {\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    .header-right {\r\n      display: flex;\r\n      align-items: center;\r\n      position: relative;\r\n\r\n      .right-day {\r\n        font-size: 0.75rem;\r\n      }\r\n      .right-buttons {\r\n        margin-left: 8px;\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n\r\n        :hover {\r\n          color: rgba(0, 0, 0, 0.4);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .post-body-container {\r\n    position: relative;\r\n    background: rgba(255, 255, 255, 0.4);\r\n\r\n    :not(:last-child) {\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    .post-body-header {\r\n      border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n      padding: 0.5rem;\r\n    }\r\n\r\n    .post-image {\r\n      width: 100%;\r\n      object-fit: cover;\r\n    }\r\n\r\n    .post-text {\r\n      padding: 1rem 0.5rem;\r\n      white-space: pre;\r\n    }\r\n\r\n    .post-comment-info {\r\n      border-top: 1px solid rgba(0, 0, 0, 0.2);\r\n      padding: 0.5rem;\r\n    }\r\n\r\n    .post-comment-container {\r\n      position: relative;\r\n      margin: 0.5rem 0;\r\n      padding: 0.5rem;\r\n      background: linear-gradient(\r\n        120deg,\r\n        rgba(69, 104, 220, 0.7),\r\n        rgba(176, 106, 179, 0.7)\r\n      );\r\n\r\n      .comment-header {\r\n      }\r\n\r\n      .comment-text {\r\n        margin-top: 0.5rem;\r\n        text-align: justify;\r\n        white-space: pre;\r\n      }\r\n    }\r\n\r\n    .post-comment-form-container {\r\n      text-align: end;\r\n    }\r\n  }\r\n`;\r\n","import { MessageOutlined, MoreOutlined } from '@ant-design/icons';\r\nimport { loadPostsRequestAction } from 'actions/actionPost';\r\nimport { ICommunity, IUserInfo } from 'interfaces/db';\r\nimport { RootStateInterface } from 'interfaces/RootState';\r\nimport moment from 'moment';\r\nimport React, { memo, useCallback, useEffect, useState, useRef } from 'react';\r\nimport dynamic from 'next/dynamic';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { PostContainer } from './styles';\r\n\r\nconst PostSettingModal = dynamic(() => import('components/Modals/PostSettingModal'));\r\nconst PostEditModal = dynamic(() => import('components/Modals/PostEditModal'));\r\nconst CommentSettingModal = dynamic(\r\n  () => import('components/Modals/CommentSettingModal')\r\n);\r\nconst CommentEditModal = dynamic(() => import('components/Modals/CommentEditModal'));\r\nconst PostForm = dynamic(() => import('components/PostForm'));\r\nconst CommentForm = dynamic(() => import('components/CommentForm'));\r\n\r\ninterface PostProps {\r\n  singleCommunity: ICommunity;\r\n  communityUser: IUserInfo | undefined;\r\n}\r\n\r\nfunction Post({ singleCommunity, communityUser }: PostProps) {\r\n  const dispatch = useDispatch();\r\n  const { mainPosts, hasMorePost, loadPostsLoading, updateCommentDone } = useSelector(\r\n    (state: RootStateInterface) => state.post\r\n  );\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [showPostSettingButton, setShowPostSettingButton] = useState(false); // 포스트설정 모달 보여주기\r\n  const [CurrentPostSettingButton, setCurrentPostSettingButton] = useState(0); // 현재 보여지고 있는 포스트설정 모달\r\n  const [currentModifyPost, setCurrentModifyPost] = useState(0); // 현재 수정중인 포스트\r\n  const [showCommentSettingButton, setShowCommentSettingButton] = useState(false);\r\n  const [currentCommentSettingButton, setCurrentCommentSettingButton] = useState(0);\r\n  const [currentModifyComment, setCurrentModifyComment] = useState(0);\r\n  const [openPostCommentForm, setOpenPostCommentForm] = useState(false);\r\n  const [currentPostCommentForm, setCurrentPostCommentForm] = useState(0);\r\n  const postContainerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const onClickPostSettingButton = useCallback(\r\n    (postId: number) => () => {\r\n      setCurrentPostSettingButton(postId);\r\n      setShowPostSettingButton(true);\r\n    },\r\n    []\r\n  );\r\n\r\n  const onClickCommentSettingButton = useCallback(\r\n    (commentId: number) => () => {\r\n      setCurrentCommentSettingButton(commentId);\r\n      setShowCommentSettingButton(true);\r\n    },\r\n    []\r\n  );\r\n\r\n  const onTogglePostCommentForm = useCallback(\r\n    (postId: number) => () => {\r\n      setCurrentPostCommentForm(postId);\r\n      setOpenPostCommentForm(prev => !prev);\r\n    },\r\n    []\r\n  );\r\n\r\n  const onCloseSettingModal = useCallback(() => {\r\n    if (showPostSettingButton || showCommentSettingButton) {\r\n      setShowPostSettingButton(false);\r\n      setShowCommentSettingButton(false);\r\n    }\r\n  }, [showPostSettingButton, showCommentSettingButton]);\r\n\r\n  useEffect(() => {\r\n    if (updateCommentDone) {\r\n      setEditMode(false);\r\n    }\r\n  }, [updateCommentDone]);\r\n\r\n  useEffect(() => {\r\n    const postContainer = postContainerRef.current;\r\n    if (!postContainer) return;\r\n\r\n    function onScroll(e: any) {\r\n      if (communityUser && mainPosts.length) {\r\n        if (e.target.scrollTop >= e.target.scrollHeight - e.target.offsetHeight - 300) {\r\n          if (hasMorePost && !loadPostsLoading) {\r\n            const lastId = mainPosts[mainPosts.length - 1].id;\r\n            dispatch(\r\n              loadPostsRequestAction({ communityId: singleCommunity.id, postId: lastId })\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    postContainer.addEventListener('scroll', onScroll);\r\n\r\n    return () => postContainer.removeEventListener('scroll', onScroll);\r\n  }, [\r\n    communityUser,\r\n    mainPosts,\r\n    hasMorePost,\r\n    loadPostsLoading,\r\n    singleCommunity,\r\n    postContainerRef.current,\r\n  ]);\r\n\r\n  return (\r\n    <PostContainer onClick={onCloseSettingModal} ref={postContainerRef}>\r\n      {communityUser ? (\r\n        <>\r\n          <div className=\"post-form-container\">\r\n            <PostForm />\r\n          </div>\r\n          {mainPosts.length ? (\r\n            <>\r\n              {mainPosts.map(post => (\r\n                <div className=\"post-body-container\" key={post.id}>\r\n                  {editMode && post.id === currentModifyPost && (\r\n                    <PostEditModal\r\n                      setEditMode={setEditMode}\r\n                      setCurrentModifyPost={setCurrentModifyPost}\r\n                      currentPostText={post.content}\r\n                      postId={post.id}\r\n                      communityId={singleCommunity.id}\r\n                    />\r\n                  )}\r\n                  <div className=\"header post-body-header\">\r\n                    <div className=\"header-left\">\r\n                      <span>\r\n                        {post.User.profilePhoto ? (\r\n                          <img\r\n                            className=\"left-profile-image\"\r\n                            src={`${process.env.NEXT_PUBLIC_BACK_URL_KEY}/${post.User.profilePhoto}`}\r\n                            alt=\"profile image\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"left-fake-image\">{post.User.nickname[0]}</div>\r\n                        )}\r\n                      </span>\r\n                      <div className=\"left-nickname\">{post.User.nickname}</div>\r\n                    </div>\r\n                    <div className=\"header-right\">\r\n                      <div className=\"right-day\">\r\n                        {moment(post.createdAt).locale('ko').format('LLL')}\r\n                      </div>\r\n                      <div\r\n                        className=\"right-buttons\"\r\n                        onClick={onClickPostSettingButton(post.id)}\r\n                      >\r\n                        <MoreOutlined />\r\n                      </div>\r\n                      {showPostSettingButton && post.id === CurrentPostSettingButton && (\r\n                        <PostSettingModal\r\n                          setCurrentModifyPost={setCurrentModifyPost}\r\n                          setEditMode={setEditMode}\r\n                          postId={post.id}\r\n                          communityId={singleCommunity.id}\r\n                          postOwnerId={post.User.id}\r\n                          communityUserId={communityUser.id}\r\n                          content={post.content}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  {post.Images.length ? (\r\n                    <img\r\n                      src={`${process.env.NEXT_PUBLIC_BACK_URL_KEY}/${post.Images[0].src}`}\r\n                      alt=\"image\"\r\n                      className=\"post-image\"\r\n                    />\r\n                  ) : null}\r\n                  <div className=\"post-text\">{post.content}</div>\r\n                  <div className=\"post-comment-info\">\r\n                    <div\r\n                      onClick={onTogglePostCommentForm(post.id)}\r\n                      style={{\r\n                        cursor: 'pointer',\r\n                      }}\r\n                    >\r\n                      <span style={{ marginRight: '4px' }}>\r\n                        <MessageOutlined />\r\n                      </span>\r\n                      {post.Comments.length\r\n                        ? `댓글 ${post.Comments.length}개 모두보기`\r\n                        : '댓글 작성하기'}\r\n                    </div>\r\n                    {openPostCommentForm && currentPostCommentForm === post.id && (\r\n                      <>\r\n                        {post.Comments &&\r\n                          post.Comments.map(comment => (\r\n                            <div className=\"post-comment-container\" key={comment.id}>\r\n                              {editMode && comment.id === currentModifyComment && (\r\n                                <CommentEditModal\r\n                                  setEditMode={setEditMode}\r\n                                  setCurrentModifyComment={setCurrentModifyComment}\r\n                                  currentCommentText={comment.content}\r\n                                  postId={post.id}\r\n                                  commentId={comment.id}\r\n                                />\r\n                              )}\r\n                              <div className=\"header comment-header\">\r\n                                <div className=\"header-left\">\r\n                                  <span>\r\n                                    {comment.User.profilePhoto ? (\r\n                                      <img\r\n                                        className=\"left-profile-image\"\r\n                                        src={`${process.env.NEXT_PUBLIC_BACK_URL_KEY}/${comment.User.profilePhoto}`}\r\n                                        alt=\"profile image\"\r\n                                      />\r\n                                    ) : (\r\n                                      <div className=\"left-fake-image\">\r\n                                        {comment.User.nickname[0]}\r\n                                      </div>\r\n                                    )}\r\n                                  </span>\r\n                                  <div className=\"left-nickname\">\r\n                                    {comment.User.nickname}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"header-right\">\r\n                                  <div className=\"right-day\">\r\n                                    {moment(comment.createdAt).locale('ko').format('LLL')}\r\n                                  </div>\r\n                                  <div\r\n                                    className=\"right-buttons\"\r\n                                    onClick={onClickCommentSettingButton(comment.id)}\r\n                                  >\r\n                                    <MoreOutlined />\r\n                                  </div>\r\n                                </div>\r\n                                {showCommentSettingButton &&\r\n                                  comment.id === currentCommentSettingButton && (\r\n                                    <CommentSettingModal\r\n                                      setCurrentModifyComment={setCurrentModifyComment}\r\n                                      setEditMode={setEditMode}\r\n                                      postId={post.id}\r\n                                      commentId={comment.id}\r\n                                      commentOwnerId={comment.User.id}\r\n                                      communityUserId={communityUser.id}\r\n                                      content={comment.content}\r\n                                    />\r\n                                  )}\r\n                              </div>\r\n                              <div className=\"comment-text\">{comment.content}</div>\r\n                            </div>\r\n                          ))}\r\n                        <div className=\"post-comment-form-container\">\r\n                          <CommentForm postId={post.id} />\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </>\r\n          ) : null}\r\n        </>\r\n      ) : (\r\n        <div className=\"visitor-post\">커뮤니티유저만 볼 수 있습니다</div>\r\n      )}\r\n    </PostContainer>\r\n  );\r\n}\r\n\r\nexport default memo(Post);\r\n"]}}