{"version":3,"sources":["webpack://_N_E/./components/Modals/PostSettingModal/styles.tsx","webpack://_N_E/./components/Modals/PostSettingModal/index.tsx"],"names":["ModalContainer","styled","div","PostSettingModal","setCurrentModifyPost","setEditMode","postId","communityId","postOwnerId","communityUserId","content","dispatch","useDispatch","postOwner","onClickModifyButton","useCallback","prev","onClickDeleteButton","confirm","removePostRequestAction","onClickReportButton","reason","prompt","reportRequestAction","contentId","reporter","reportedPerson","variety","onClick"],"mappings":"iKAEaA,E,UAAiBC,EAAOC,IAAV,yEAAGD,CAAH,6pBCqEZE,UAxDf,YAQ0B,IAPxBC,EAOwB,EAPxBA,qBACAC,EAMwB,EANxBA,YACAC,EAKwB,EALxBA,OACAC,EAIwB,EAJxBA,YACAC,EAGwB,EAHxBA,YACAC,EAEwB,EAFxBA,gBACAC,EACwB,EADxBA,QAEMC,EAAWC,cACXC,EAAYL,IAAgBC,EAE5BK,EAAsBC,uBAAY,WACtCX,EAAqBE,GACrBD,GAAY,SAAAW,GAAI,OAAKA,OACpB,CAACV,IAEEW,EAAsBF,uBAAY,WACtC,GAAIG,QAAQ,wEACV,OAAOP,EAASQ,YAAwB,CAAEb,SAAQC,mBAEnD,IAEGa,EAAsBL,uBAAY,WACtC,IAAMM,EAASC,OAAO,8EAElBD,GAAUZ,GACZE,EACEY,YAAoB,CAClBC,UAAWlB,EACXmB,SAAUhB,EACViB,eAAgBlB,EAChBa,SACAM,QAAS,OACTjB,eAIL,CAACF,EAAaC,EAAiBH,EAAQI,IAE1C,OACE,cAACV,EAAD,UACE,6BACGa,EACC,qCACE,oBAAIe,QAASd,EAAb,0BACA,oBAAIc,QAASX,EAAb,6BAGF,oBAAIW,QAASR,EAAb","file":"static/chunks/50.701fd774ee31b6d96dc8.js","sourcesContent":["import styled from 'styled-components';\n\nexport const ModalContainer = styled.div`\n  position: absolute;\n  z-index: 2000;\n  top: 0;\n  right: 0;\n  width: 100px;\n  background: rgba(0, 0, 0, 0.7);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);\n  backdrop-filter: saturate(180%) blur(12px);\n  -webkit-backdrop-filter: saturate(180%) blur(12px);\n  cursor: pointer;\n\n  ul {\n    height: inherit;\n    list-style: none;\n    padding: 0;\n    display: grid;\n    grid-template-rows: auto;\n    margin-bottom: 0;\n\n    li {\n      height: 40px;\n      position: relative;\n      color: #fff;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n\n      :last-child {\n        border-bottom: none;\n      }\n      :hover {\n        background: rgba(0, 0, 0, 0.3);\n      }\n\n      a {\n        padding: 10px;\n        position: absolute;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: #fff;\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n`;\n","import { removePostRequestAction, reportRequestAction } from 'actions/actionPost';\nimport React, { Dispatch, SetStateAction, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ModalContainer } from './styles';\n\ninterface PostSettingModalProps {\n  setCurrentModifyPost: Dispatch<SetStateAction<number>>;\n  setEditMode: Dispatch<SetStateAction<boolean>>;\n  postId: number;\n  communityId: number;\n  postOwnerId: number;\n  communityUserId: number;\n  content: string;\n}\n\nfunction PostSettingModal({\n  setCurrentModifyPost,\n  setEditMode,\n  postId,\n  communityId,\n  postOwnerId,\n  communityUserId,\n  content,\n}: PostSettingModalProps) {\n  const dispatch = useDispatch();\n  const postOwner = postOwnerId === communityUserId;\n\n  const onClickModifyButton = useCallback(() => {\n    setCurrentModifyPost(postId);\n    setEditMode(prev => !prev);\n  }, [postId]);\n\n  const onClickDeleteButton = useCallback(() => {\n    if (confirm('게시글을 지우시겠습니까?')) {\n      return dispatch(removePostRequestAction({ postId, communityId }));\n    }\n  }, []);\n\n  const onClickReportButton = useCallback(() => {\n    const reason = prompt('신고하는 이유를 적어주세요');\n\n    if (reason && communityUserId) {\n      dispatch(\n        reportRequestAction({\n          contentId: postId,\n          reporter: communityUserId,\n          reportedPerson: postOwnerId,\n          reason,\n          variety: 'post',\n          content,\n        })\n      );\n    }\n  }, [postOwnerId, communityUserId, postId, content]);\n\n  return (\n    <ModalContainer>\n      <ul>\n        {postOwner ? (\n          <>\n            <li onClick={onClickModifyButton}>수정</li>\n            <li onClick={onClickDeleteButton}>삭제</li>\n          </>\n        ) : (\n          <li onClick={onClickReportButton}>신고하기</li>\n        )}\n      </ul>\n    </ModalContainer>\n  );\n}\n\nexport default PostSettingModal;\n"],"sourceRoot":""}