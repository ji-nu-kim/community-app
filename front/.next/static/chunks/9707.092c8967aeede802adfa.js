(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9707],{9707:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var i=t(5893),r=t(2921),s=t(7294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},a=t(9408),c=function(e,n){return s.createElement(a.Z,Object.assign({},e,{ref:n,icon:d}))};c.displayName="PlusOutlined";var l=s.forwardRef(c),o=t(5152),m=t(9163),u=m.ZP.div.withConfig({displayName:"styles__MeetContainer",componentId:"sc-1ti3ajz-0"})(["position:relative;height:100%;backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background:rgba(0,0,0,0.4);display:grid;grid-template-rows:auto 55px;.visitor-post{height:100%;display:flex;justify-content:center;align-items:center;}.joined-meet,.new-meet{display:grid;grid-template-rows:44px auto;.meet-members,.meet-place{cursor:pointer;:hover{color:#039be5;}}.meet-name{margin-left:1rem;align-self:center;font-weight:bold;font-size:1rem;}}"]),h=m.ZP.div.withConfig({displayName:"styles__CardContainer",componentId:"sc-1ti3ajz-1"})(["padding:1rem;position:relative;width:100%;height:300px;display:grid;grid-template-columns:1fr 1fr;.card-left{display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:10;filter:",";background:",";text-align:center;.card-header{font-size:1.5rem;font-weight:bold;margin-bottom:2rem;}.card-body{font-size:0.75rem;div{margin-bottom:0.5rem;}.meet-button{button{cursor:pointer;border:none;background:#039be5;height:30px;:hover{background:#0282c2;}}.owner-buttons{button:first-child{margin-right:1rem;}}}}}.card-right{background:rgba(255,255,255,0.4);z-index:5;.show-members{width:100%;height:100%;display:grid;grid-template-rows:30% 70%;align-items:center;justify-items:center;font-weight:bold;font-size:1rem;.member-container{width:100%;height:100%;padding:1rem;p{margin-right:1rem;display:inline;}}}}"],(function(e){return"hue-rotate(".concat(60*e.number,"deg)")}),(function(e){return"linear-gradient(\n      ".concat(60*e.number,"deg,\n      rgba(255, 252, 0, 0.85) 0%,\n      rgba(252, 0, 255, 0.85) 45%,\n      rgba(0, 255, 252, 0.85) 100%\n    )")})),f=m.ZP.div.withConfig({displayName:"styles__MakeMeetButton",componentId:"sc-1ti3ajz-2"})(["margin-right:1rem;align-self:center;justify-self:end;cursor:pointer;width:30px;height:30px;border-radius:50%;border:2px solid hotpink;color:hotpink;display:flex;justify-content:center;align-items:center;z-index:100;:hover{filter:hue-rotate(180deg);}"]),b=t(247),x=t(4751),p=(0,o.default)((function(){return Promise.all([t.e(4885),t.e(8222),t.e(9870),t.e(5664),t.e(9268),t.e(5721)]).then(t.bind(t,5721))}),{loadableGenerated:{webpack:function(){return[5721]},modules:["..\\components\\CommunityBody\\Meet\\index.tsx -> components/Modals/ModifyMeetModal"]}}),g=(0,o.default)((function(){return Promise.all([t.e(4885),t.e(8222),t.e(9870),t.e(5664),t.e(9268),t.e(5419)]).then(t.bind(t,5419))}),{loadableGenerated:{webpack:function(){return[5419]},modules:["..\\components\\CommunityBody\\Meet\\index.tsx -> components/Modals/CreateMeetModal"]}}),v=(0,o.default)((function(){return t.e(8093).then(t.bind(t,8093))}),{loadableGenerated:{webpack:function(){return[8093]},modules:["..\\components\\CommunityBody\\Meet\\index.tsx -> components/Map"]}});function j(e){var n=e.singleCommunity,t=e.communityUser,d=e.me,a=(0,x.I0)(),c=(0,x.v9)((function(e){return e.community})),o=c.addMeetDone,m=c.joinMeetDone,j=c.joinMeetError,y=(0,s.useState)(!1),N=y[0],k=y[1],w=(0,s.useState)(!1),C=w[0],M=w[1],I=(0,s.useState)([]),z=I[0],_=I[1],U=(0,s.useState)(-9999),q=U[0],E=U[1],P=null===d||void 0===d?void 0:d.Meets.map((function(e){return e.id})),S=n.Meets.filter((function(e){return null===P||void 0===P?void 0:P.includes(e.id)})),Z=n.Meets.filter((function(e){return!(null!==P&&void 0!==P&&P.includes(e.id))})),B=(0,s.useCallback)((function(e){return function(){z.includes(e)||_([].concat((0,r.Z)(z),[e]))}}),[z]),O=(0,s.useCallback)((function(e){return function(){_((0,r.Z)(z).filter((function(n){return n!==e})))}}),[z]),G=(0,s.useCallback)((function(){k(!0)}),[]),D=(0,s.useCallback)((function(e){return function(){if(confirm("\ubaa8\uc784\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return a((0,b.$0)({meetId:e,communityId:n.id}))}}),[n]),F=(0,s.useCallback)((function(e,t,i){return function(){return t>=i?alert("\uc778\uc6d0 \uc218\uac00 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4"):confirm("\ubaa8\uc784\uc5d0 \ucc38\uac00\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?a((0,b.rv)({meetId:e,communityId:n.id})):void 0}}),[n]),H=(0,s.useCallback)((function(e){return function(){if(confirm("\ubaa8\uc784\uc744 \ud0c8\ud1f4\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return a((0,b.lg)({communityId:n.id,meetId:e}))}}),[n]),R=(0,s.useCallback)((function(e){return function(){E(e),M(!0)}}),[]);return(0,s.useEffect)((function(){o&&k(!1)}),[o]),(0,s.useEffect)((function(){m&&M(!1)}),[m]),(0,s.useEffect)((function(){j&&alert(j)}),[j]),(0,i.jsx)(u,{children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{overflow:"auto"},children:[S.length?(0,i.jsxs)("div",{className:"joined-meet",children:[(0,i.jsx)("div",{className:"meet-name",children:"\ucc38\uac00\ud55c \ubaa8\uc784"}),(0,i.jsx)("div",{className:"meet-card-grid",children:S.map((function(e,n){return(0,i.jsx)("div",{children:(0,i.jsxs)(h,{number:n,children:[(0,i.jsxs)("div",{className:"card-left",children:[(0,i.jsx)("div",{className:"card-header",children:(0,i.jsx)("div",{className:"meet-title",children:e.title})}),(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsxs)("div",{className:"meet-date",children:[e.date,"\uc2dc"]}),(0,i.jsxs)("div",{className:"meet-fee",children:["\ucc38\uac00\ube44: ",e.fee,"\uc6d0"]}),(0,i.jsxs)("div",{className:"meet-members",onClick:O(e.id),children:["\uc778\uc6d0: ",e.Users.length," / ",e.members,"\uba85"]}),(0,i.jsxs)("div",{className:"meet-place",onClick:B(e.id),children:["\uc7a5\uc18c: ",e.place]}),(0,i.jsxs)("div",{className:"meet-owner",children:["\ubaa8\uc784\ub9ac\ub354:"," ",e.Users.map((function(n){return n.id===e.MeetOwnerId&&n.nickname}))]}),(0,i.jsx)("div",{className:"meet-button",children:e.MeetOwnerId===(null===d||void 0===d?void 0:d.id)?(0,i.jsxs)("div",{className:"owner-buttons",children:[(0,i.jsx)("button",{onClick:R(e.id),children:"\uc218\uc815"}),(0,i.jsx)("button",{onClick:D(e.id),children:"\uc0ad\uc81c"})]}):(0,i.jsx)("button",{onClick:H(e.id),children:"\ud0c8\ud1f4"})})]})]}),(0,i.jsx)("div",{className:"card-right",children:z.includes(e.id)?(0,i.jsx)(v,{address:e.place,number:e.id},e.id):(0,i.jsxs)("div",{className:"show-members",children:[(0,i.jsx)("div",{children:"\ucc38\uac00\uba64\ubc84"}),(0,i.jsx)("div",{className:"member-container",children:e.Users.map((function(e){return(0,i.jsx)("p",{children:e.nickname},e.id)}))})]})})]})},e.id)}))})]}):null,(0,i.jsxs)("div",{className:"new-meet",children:[(0,i.jsx)("div",{className:"meet-name",children:"\uc0c8\ub85c\uc6b4 \ubaa8\uc784"}),Z.length?Z.map((function(e,n){return(0,i.jsx)("div",{children:(0,i.jsxs)(h,{number:n,children:[(0,i.jsxs)("div",{className:"card-left",children:[(0,i.jsx)("div",{className:"card-header",children:(0,i.jsx)("div",{className:"meet-title",children:e.title})}),(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsxs)("div",{className:"meet-date",children:[e.date,"\uc2dc"]}),(0,i.jsxs)("div",{className:"meet-fee",children:["\ucc38\uac00\ube44: ",e.fee,"\uc6d0"]}),(0,i.jsxs)("div",{className:"meet-members",onClick:O(e.id),children:["\uc778\uc6d0: ",e.Users.length," / ",e.members,"\uba85"]}),(0,i.jsxs)("div",{className:"meet-place",onClick:B(e.id),children:["\uc7a5\uc18c: ",e.place]}),(0,i.jsxs)("div",{className:"meet-owner",children:["\ubaa8\uc784\ub9ac\ub354:"," ",e.Users.map((function(n){return n.id===e.MeetOwnerId&&n.nickname}))]}),(0,i.jsx)("div",{className:"meet-button",children:e.Users.length<e.members?(0,i.jsx)("button",{onClick:F(e.id,e.Users.length,e.members),children:"\ucc38\uac00\ud558\uae30"}):(0,i.jsx)("button",{children:"\uc778\uc6d0\uc81c\ud55c"})})]})]}),(0,i.jsx)("div",{className:"card-right",children:z.includes(e.id)?(0,i.jsx)(v,{address:e.place,number:e.id},e.id):(0,i.jsxs)("div",{className:"show-members",children:[(0,i.jsx)("div",{children:"\ucc38\uac00\uba64\ubc84"}),(0,i.jsx)("div",{className:"member-container",children:e.Users.map((function(e){return(0,i.jsx)("p",{children:e.nickname},e.id)}))})]})})]})},e.id)})):null]})]}),(0,i.jsx)(f,{onClick:G,children:(0,i.jsx)(l,{})}),N&&(0,i.jsx)(g,{setShowCreateMeetModal:k,communityId:n.id}),C&&(0,i.jsx)(p,{setShowModifyMeetModal:M,communityId:n.id,meetInfo:S.find((function(e){return e.id===q}))})]}):(0,i.jsx)("div",{className:"visitor-post",children:"\ucee4\ubba4\ub2c8\ud2f0 \uc720\uc800\ub9cc \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4"})})}var y=(0,s.memo)(j)}}]);