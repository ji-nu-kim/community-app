{"version":3,"sources":["webpack://_N_E/./components/Modals/PostSettingModal/styles.tsx","webpack://_N_E/./components/Modals/PostSettingModal/index.tsx"],"names":["ModalContainer","styled","setCurrentModifyPost","setEditMode","postId","communityId","postOwnerId","communityUserId","content","dispatch","useDispatch","postOwner","onClickModifyButton","useCallback","prev","onClickDeleteButton","confirm","removePostRequestAction","onClickReportButton","reason","prompt","reportRequestAction","contentId","reporter","reportedPerson","variety","onClick"],"mappings":"2LAEaA,E,QAAiBC,kBAAH,8DAAGA,CAAH,6pBCqE3B,MAxDA,YAQ0B,IAPxBC,EAOwB,EAPxBA,qBACAC,EAMwB,EANxBA,YACAC,EAKwB,EALxBA,OACAC,EAIwB,EAJxBA,YACAC,EAGwB,EAHxBA,YACAC,EAEwB,EAFxBA,gBACAC,EACwB,EADxBA,QAEMC,GAAWC,UACXC,EAAYL,IAAgBC,EAE5BK,GAAsBC,kBAAY,WACtCX,EAAqBE,GACrBD,GAAY,SAAAW,GAAI,OAAKA,OACpB,CAACV,IAEEW,GAAsBF,kBAAY,WACtC,GAAIG,QAAQ,wEACV,OAAOP,GAASQ,QAAwB,CAAEb,SAAQC,mBAEnD,IAEGa,GAAsBL,kBAAY,WACtC,IAAMM,EAASC,OAAO,8EAElBD,GAAUZ,GACZE,GACEY,QAAoB,CAClBC,UAAWlB,EACXmB,SAAUhB,EACViB,eAAgBlB,EAChBa,SACAM,QAAS,OACTjB,eAIL,CAACF,EAAaC,EAAiBH,EAAQI,IAE1C,OACE,SAACR,EAAD,WACE,wBACGW,GACC,iCACE,eAAIe,QAASd,EAAb,2BACA,eAAIc,QAASX,EAAb,8BAGF,eAAIW,QAASR,EAAb","file":"static/chunks/3167.78a2207d7fbf79790778.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const ModalContainer = styled.div`\r\n  position: absolute;\r\n  z-index: 2000;\r\n  top: 0;\r\n  right: 0;\r\n  width: 100px;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: saturate(180%) blur(12px);\r\n  -webkit-backdrop-filter: saturate(180%) blur(12px);\r\n  cursor: pointer;\r\n\r\n  ul {\r\n    height: inherit;\r\n    list-style: none;\r\n    padding: 0;\r\n    display: grid;\r\n    grid-template-rows: auto;\r\n    margin-bottom: 0;\r\n\r\n    li {\r\n      height: 40px;\r\n      position: relative;\r\n      color: #fff;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-bottom: 1px solid rgba(255, 255, 255, 0.15);\r\n\r\n      :last-child {\r\n        border-bottom: none;\r\n      }\r\n      :hover {\r\n        background: rgba(0, 0, 0, 0.3);\r\n      }\r\n\r\n      a {\r\n        padding: 10px;\r\n        position: absolute;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: #fff;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { removePostRequestAction, reportRequestAction } from 'actions/actionPost';\r\nimport React, { Dispatch, SetStateAction, useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { ModalContainer } from './styles';\r\n\r\ninterface PostSettingModalProps {\r\n  setCurrentModifyPost: Dispatch<SetStateAction<number>>;\r\n  setEditMode: Dispatch<SetStateAction<boolean>>;\r\n  postId: number;\r\n  communityId: number;\r\n  postOwnerId: number;\r\n  communityUserId: number;\r\n  content: string;\r\n}\r\n\r\nfunction PostSettingModal({\r\n  setCurrentModifyPost,\r\n  setEditMode,\r\n  postId,\r\n  communityId,\r\n  postOwnerId,\r\n  communityUserId,\r\n  content,\r\n}: PostSettingModalProps) {\r\n  const dispatch = useDispatch();\r\n  const postOwner = postOwnerId === communityUserId;\r\n\r\n  const onClickModifyButton = useCallback(() => {\r\n    setCurrentModifyPost(postId);\r\n    setEditMode(prev => !prev);\r\n  }, [postId]);\r\n\r\n  const onClickDeleteButton = useCallback(() => {\r\n    if (confirm('게시글을 지우시겠습니까?')) {\r\n      return dispatch(removePostRequestAction({ postId, communityId }));\r\n    }\r\n  }, []);\r\n\r\n  const onClickReportButton = useCallback(() => {\r\n    const reason = prompt('신고하는 이유를 적어주세요');\r\n\r\n    if (reason && communityUserId) {\r\n      dispatch(\r\n        reportRequestAction({\r\n          contentId: postId,\r\n          reporter: communityUserId,\r\n          reportedPerson: postOwnerId,\r\n          reason,\r\n          variety: 'post',\r\n          content,\r\n        })\r\n      );\r\n    }\r\n  }, [postOwnerId, communityUserId, postId, content]);\r\n\r\n  return (\r\n    <ModalContainer>\r\n      <ul>\r\n        {postOwner ? (\r\n          <>\r\n            <li onClick={onClickModifyButton}>수정</li>\r\n            <li onClick={onClickDeleteButton}>삭제</li>\r\n          </>\r\n        ) : (\r\n          <li onClick={onClickReportButton}>신고하기</li>\r\n        )}\r\n      </ul>\r\n    </ModalContainer>\r\n  );\r\n}\r\n\r\nexport default PostSettingModal;\r\n"],"sourceRoot":""}